!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.GoldenLayout=t():e.GoldenLayout=t()}(this,(()=>(()=>{"use strict";var e={13:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DropTargetIndicator=void 0;const i=n(682);t.DropTargetIndicator=class{constructor(){this._element=document.createElement("div"),this._element.classList.add("lm_dropTargetIndicator");const e=document.createElement("div");e.classList.add("lm_inner"),this._element.appendChild(e),document.body.appendChild(this._element)}destroy(){this._element.remove()}highlightArea(e,t){this._element.style.left=(0,i.numberToPixels)(e.x1+t),this._element.style.top=(0,i.numberToPixels)(e.y1+t),this._element.style.width=(0,i.numberToPixels)(e.x2-e.x1-t),this._element.style.height=(0,i.numberToPixels)(e.y2-e.y1-t),this._element.style.display="block"}hide(){(0,i.setElementDisplayVisibility)(this._element,!1)}}},51:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Tab=void 0;const i=n(743),o=n(902);t.Tab=class{constructor(e,t,n,i,o){var s;this._layoutManager=e,this._componentItem=t,this._closeEvent=n,this._focusEvent=i,this._dragStartEvent=o,this._isActive=!1,this._tabClickListener=e=>this.onTabClickDown(e),this._tabTouchStartListener=e=>this.onTabTouchStart(e),this._closeClickListener=()=>this.onCloseClick(),this._closeTouchStartListener=()=>this.onCloseTouchStart(),this._dragStartListener=(e,t)=>this.onDragStart(e,t),this._contentItemDestroyListener=()=>this.onContentItemDestroy(),this._tabTitleChangedListener=e=>this.setTitle(e),this._element=document.createElement("div"),this._element.classList.add("lm_tab"),this._titleElement=document.createElement("span"),this._titleElement.classList.add("lm_title"),this._closeElement=document.createElement("div"),this._closeElement.classList.add("lm_close_tab"),this._element.appendChild(this._titleElement),this._element.appendChild(this._closeElement),t.isClosable?this._closeElement.style.display="":this._closeElement.style.display="none",this.setTitle(t.title),this._componentItem.on("titleChanged",this._tabTitleChangedListener),(null!==(s=t.reorderEnabled)&&void 0!==s?s:this._layoutManager.layoutConfig.settings.reorderEnabled)&&this.enableReorder(),this._element.addEventListener("click",this._tabClickListener,{passive:!0}),this._element.addEventListener("touchstart",this._tabTouchStartListener,{passive:!0}),this._componentItem.isClosable?(this._closeElement.addEventListener("click",this._closeClickListener,{passive:!0}),this._closeElement.addEventListener("touchstart",this._closeTouchStartListener,{passive:!0})):(this._closeElement.remove(),this._closeElement=void 0),this._componentItem.setTab(this),this._layoutManager.emit("tabCreated",this)}get isActive(){return this._isActive}get componentItem(){return this._componentItem}get contentItem(){return this._componentItem}get element(){return this._element}get titleElement(){return this._titleElement}get closeElement(){return this._closeElement}get reorderEnabled(){return void 0!==this._dragListener}set reorderEnabled(e){e!==this.reorderEnabled&&(e?this.enableReorder():this.disableReorder())}setTitle(e){this._titleElement.innerText=e,this._element.title=e}setActive(e){e!==this._isActive&&(this._isActive=e,e?this._element.classList.add("lm_active"):this._element.classList.remove("lm_active"))}destroy(){var e,t;this._closeEvent=void 0,this._focusEvent=void 0,this._dragStartEvent=void 0,this._element.removeEventListener("click",this._tabClickListener),this._element.removeEventListener("touchstart",this._tabTouchStartListener),null===(e=this._closeElement)||void 0===e||e.removeEventListener("click",this._closeClickListener),null===(t=this._closeElement)||void 0===t||t.removeEventListener("touchstart",this._closeTouchStartListener),this._componentItem.off("titleChanged",this._tabTitleChangedListener),this.reorderEnabled&&this.disableReorder(),this._element.remove()}setBlurred(){this._element.classList.remove("lm_focused"),this._titleElement.classList.remove("lm_focused")}setFocused(){this._element.classList.add("lm_focused"),this._titleElement.classList.add("lm_focused")}onDragStart(e,t){if(void 0===this._dragListener)throw new i.UnexpectedUndefinedError("TODSDLU10093");if(void 0===this._dragStartEvent)throw new i.UnexpectedUndefinedError("TODS23309");this._dragStartEvent(e,t,this._dragListener,this.componentItem)}onContentItemDestroy(){void 0!==this._dragListener&&(this._dragListener.destroy(),this._dragListener=void 0)}onTabClickDown(e){const t=e.target;t!==this._element&&t!==this._titleElement||(0===e.button?this.notifyFocus():1===e.button&&this._componentItem.isClosable&&this.notifyClose())}onTabTouchStart(e){e.target===this._element&&this.notifyFocus()}onCloseClick(){this.notifyClose()}onCloseTouchStart(){this.notifyClose()}notifyClose(){if(void 0===this._closeEvent)throw new i.UnexpectedUndefinedError("TNC15007");this._closeEvent(this._componentItem)}notifyFocus(){if(void 0===this._focusEvent)throw new i.UnexpectedUndefinedError("TNA15007");this._focusEvent(this._componentItem)}enableReorder(){this._dragListener=new o.DragListener(this._element,[this._titleElement]),this._dragListener.on("dragStart",this._dragStartListener),this._componentItem.on("destroy",this._contentItemDestroyListener)}disableReorder(){if(void 0===this._dragListener)throw new i.UnexpectedUndefinedError("TDR87745");this._componentItem.off("destroy",this._contentItemDestroyListener),this._dragListener.off("dragStart",this._dragStartListener),this._dragListener=void 0}}},129:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TransitionIndicator=void 0,t.TransitionIndicator=class{constructor(){this._element=document.createElement("div"),this._element.classList.add("lm_transition_indicator"),document.body.appendChild(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null}destroy(){this._element.remove()}transitionElements(e,t){}nextAnimationFrame(){}measure(e){const t=e.getBoundingClientRect();return{left:t.left,top:t.top,width:e.offsetWidth,height:e.offsetHeight}}}},132:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentParentableItem=void 0;const i=n(783);class o extends i.ContentItem{constructor(){super(...arguments),this._focused=!1}get focused(){return this._focused}setFocusedValue(e){this._focused=e}}t.ComponentParentableItem=o},164:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const i=n(743),o=n(744),s=n(646),r=n(682),a=n(332),l=n(812);class d extends o.EventEmitter{constructor(e,t,n,i,o,s,r,d,h,c,u,m,p){super(),this._layoutManager=e,this._parent=t,this._configClosable=i,this._getActiveComponentItemEvent=o,this._popoutEvent=r,this._maximiseToggleEvent=d,this._clickEvent=h,this._touchStartEvent=c,this._componentRemoveEvent=u,this._componentFocusEvent=m,this._componentDragStartEvent=p,this._clickListener=e=>this.onClick(e),this._touchStartListener=e=>this.onTouchStart(e),this._rowColumnClosable=!0,this._closeButton=null,this._popoutButton=null,this._tabsContainer=new l.TabsContainer(this._layoutManager,(e=>this.handleTabInitiatedComponentRemoveEvent(e)),(e=>this.handleTabInitiatedComponentFocusEvent(e)),((e,t,n,i)=>this.handleTabInitiatedDragStartEvent(e,t,n,i)),(()=>this.processTabDropdownActiveChanged())),this._show=n.show,this._popoutEnabled=n.popoutEnabled,this._popoutLabel=n.popoutLabel,this._maximiseEnabled=n.maximiseEnabled,this._maximiseLabel=n.maximiseLabel,this._minimiseEnabled=n.minimiseEnabled,this._minimiseLabel=n.minimiseLabel,this._closeEnabled=n.closeEnabled,this._closeLabel=n.closeLabel,this._tabDropdownEnabled=n.tabDropdownEnabled,this._tabDropdownLabel=n.tabDropdownLabel,this.setSide(n.side),this._canRemoveComponent=this._configClosable,this._element=document.createElement("section"),this._element.classList.add("lm_header"),this._controlsContainerElement=document.createElement("section"),this._controlsContainerElement.classList.add("lm_controls"),this._element.appendChild(this._tabsContainer.element),this._element.appendChild(this._controlsContainerElement),this._element.appendChild(this._tabsContainer.dropdownElement),this._element.addEventListener("click",this._clickListener,{passive:!0}),this._element.addEventListener("touchstart",this._touchStartListener,{passive:!0}),this._documentMouseUpListener=()=>this._tabsContainer.hideAdditionalTabsDropdown(),globalThis.document.addEventListener("mouseup",this._documentMouseUpListener,{passive:!0}),this._tabControlOffset=this._layoutManager.layoutConfig.settings.tabControlOffset,this._tabDropdownEnabled&&(this._tabDropdownButton=new a.HeaderButton(this,this._tabDropdownLabel,"lm_tabdropdown",(()=>this._tabsContainer.showAdditionalTabsDropdown()))),this._popoutEnabled&&(this._popoutButton=new a.HeaderButton(this,this._popoutLabel,"lm_popout",(()=>this.handleButtonPopoutEvent()))),this._maximiseEnabled&&(this._maximiseButton=new a.HeaderButton(this,this._maximiseLabel,"lm_maximise",(e=>this.handleButtonMaximiseToggleEvent(e)))),this._configClosable&&(this._closeButton=new a.HeaderButton(this,this._closeLabel,"lm_close",(()=>s()))),this.processTabDropdownActiveChanged()}get show(){return this._show}get side(){return this._side}get leftRightSided(){return this._leftRightSided}get layoutManager(){return this._layoutManager}get parent(){return this._parent}get tabs(){return this._tabsContainer.tabs}get lastVisibleTabIndex(){return this._tabsContainer.lastVisibleTabIndex}get element(){return this._element}get tabsContainerElement(){return this._tabsContainer.element}get controlsContainerElement(){return this._controlsContainerElement}destroy(){this.emit("destroy"),this._popoutEvent=void 0,this._maximiseToggleEvent=void 0,this._clickEvent=void 0,this._touchStartEvent=void 0,this._componentRemoveEvent=void 0,this._componentFocusEvent=void 0,this._componentDragStartEvent=void 0,this._tabsContainer.destroy(),globalThis.document.removeEventListener("mouseup",this._documentMouseUpListener),this._element.remove()}createTab(e,t){this._tabsContainer.createTab(e,t)}removeTab(e){this._tabsContainer.removeTab(e)}processActiveComponentChanged(e){this._tabsContainer.processActiveComponentChanged(e),this.updateTabSizes()}setSide(e){this._side=e,this._leftRightSided=[s.Side.right,s.Side.left].includes(this._side)}setRowColumnClosable(e){this._rowColumnClosable=e,this.updateClosability()}updateClosability(){let e;if(this._configClosable)if(this._rowColumnClosable){e=!0;const t=this.tabs.length;for(let n=0;n<t;n++)if(!this._tabsContainer.tabs[n].componentItem.isClosable){e=!1;break}}else e=!1;else e=!1;null!==this._closeButton&&(0,r.setElementDisplayVisibility)(this._closeButton.element,e),null!==this._popoutButton&&(0,r.setElementDisplayVisibility)(this._popoutButton.element,e),this._canRemoveComponent=e||this._tabsContainer.tabCount>1}applyFocusedValue(e){e?this._element.classList.add("lm_focused"):this._element.classList.remove("lm_focused")}processMaximised(){if(void 0===this._maximiseButton)throw new i.UnexpectedUndefinedError("HPMAX16997");this._maximiseButton.element.setAttribute("title",this._minimiseLabel)}processMinimised(){if(void 0===this._maximiseButton)throw new i.UnexpectedUndefinedError("HPMIN16997");this._maximiseButton.element.setAttribute("title",this._maximiseLabel)}updateTabSizes(){if(this._tabsContainer.tabCount>0){const e=this._show?this._layoutManager.layoutConfig.dimensions.headerHeight:0;let t;this._leftRightSided?(this._element.style.height="",this._element.style.width=(0,r.numberToPixels)(e)):(this._element.style.width="",this._element.style.height=(0,r.numberToPixels)(e)),t=this._leftRightSided?this._element.offsetHeight-this._controlsContainerElement.offsetHeight-this._tabControlOffset:this._element.offsetWidth-this._controlsContainerElement.offsetWidth-this._tabControlOffset,this._tabsContainer.updateTabSizes(t,this._getActiveComponentItemEvent())}}handleTabInitiatedComponentRemoveEvent(e){if(this._canRemoveComponent){if(void 0===this._componentRemoveEvent)throw new i.UnexpectedUndefinedError("HHTCE22294");this._componentRemoveEvent(e)}}handleTabInitiatedComponentFocusEvent(e){if(void 0===this._componentFocusEvent)throw new i.UnexpectedUndefinedError("HHTAE22294");this._componentFocusEvent(e)}handleTabInitiatedDragStartEvent(e,t,n,o){if(this._canRemoveComponent){if(void 0===this._componentDragStartEvent)throw new i.UnexpectedUndefinedError("HHTDSE22294");this._componentDragStartEvent(e,t,n,o)}else n.cancelDrag()}processTabDropdownActiveChanged(){void 0!==this._tabDropdownButton&&(0,r.setElementDisplayVisibility)(this._tabDropdownButton.element,this._tabsContainer.dropdownActive)}handleButtonPopoutEvent(){if(this._layoutManager.layoutConfig.settings.popoutWholeStack){if(void 0===this._popoutEvent)throw new i.UnexpectedUndefinedError("HHBPOE17834");this._popoutEvent()}else{const e=this._getActiveComponentItemEvent();e&&e.popout()}}handleButtonMaximiseToggleEvent(e){if(void 0===this._maximiseToggleEvent)throw new i.UnexpectedUndefinedError("HHBMTE16834");this._maximiseToggleEvent()}onClick(e){e.target===this._element&&this.notifyClick(e)}onTouchStart(e){e.target===this._element&&this.notifyTouchStart(e)}notifyClick(e){if(void 0===this._clickEvent)throw new i.UnexpectedUndefinedError("HNHC46834");this._clickEvent(e)}notifyTouchStart(e){if(void 0===this._touchStartEvent)throw new i.UnexpectedUndefinedError("HNHTS46834");this._touchStartEvent(e)}}t.Header=d},196:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserPopout=void 0;const i=n(745),o=n(677),s=n(743),r=n(744),a=n(682);class l extends r.EventEmitter{constructor(e,t,n){super(),this._config=e,this._initialWindowSize=t,this._layoutManager=n,this._isInitialised=!1,this._popoutWindow=null,this.createWindow()}toConfig(){var e,t;if(!1===this._isInitialised)throw new Error("Can't create config, layout not yet initialised");const n=this.getGlInstance().saveLayout();let i,o;null===this._popoutWindow?(i=null,o=null):(i=null!==(e=this._popoutWindow.screenX)&&void 0!==e?e:this._popoutWindow.screenLeft,o=null!==(t=this._popoutWindow.screenY)&&void 0!==t?t:this._popoutWindow.screenTop);const s={width:this.getGlInstance().width,height:this.getGlInstance().height,left:i,top:o};return{root:n.root,openPopouts:n.openPopouts,settings:n.settings,dimensions:n.dimensions,header:n.header,window:s,parentId:this._config.parentId,indexInParent:this._config.indexInParent,resolved:!0}}getGlInstance(){if(null===this._popoutWindow)throw new s.UnexpectedNullError("BPGGI24693");return this._popoutWindow.__glInstance}getWindow(){if(null===this._popoutWindow)throw new s.UnexpectedNullError("BPGW087215");return this._popoutWindow}close(){if(this.getGlInstance())this.getGlInstance().closeWindow();else try{this.getWindow().close()}catch(e){}}popIn(){let e,t=this._config.indexInParent;if(!this._config.parentId)return;const n=this.getGlInstance().saveLayout(),i=(0,a.deepExtend)({},n).root;if(void 0===i)throw new s.UnexpectedUndefinedError("BPPIR19998");const o=this._layoutManager.groundItem;if(void 0===o)throw new s.UnexpectedUndefinedError("BPPIG34972");e=o.getItemsByPopInParentId(this._config.parentId)[0],e||(e=o.contentItems.length>0?o.contentItems[0]:o,t=0);const r=this._layoutManager.createAndInitContentItem(i,e);e.addChild(r,t),this._layoutManager.layoutConfig.settings.popInOnClose?this._onClose():this.close()}createWindow(){const e=this.createUrl(),t=Math.floor(1e6*Math.random()).toString(36),n=this.serializeWindowFeatures({width:this._initialWindowSize.width,height:this._initialWindowSize.height,innerWidth:this._initialWindowSize.width,innerHeight:this._initialWindowSize.height,menubar:"no",toolbar:"no",location:"no",personalbar:"no",resizable:"yes",scrollbars:"no",status:"no"});if(this._popoutWindow=globalThis.open(e,t,n),this._popoutWindow)this._popoutWindow.addEventListener("load",(()=>this.positionWindow()),{passive:!0}),this._popoutWindow.addEventListener("beforeunload",(()=>{this._layoutManager.layoutConfig.settings.popInOnClose?this.popIn():this._onClose()}),{passive:!0}),this._checkReadyInterval=setInterval((()=>this.checkReady()),10);else if(!0===this._layoutManager.layoutConfig.settings.blockedPopoutsThrowError)throw new o.PopoutBlockedError("Popout blocked")}checkReady(){if(null===this._popoutWindow)throw new s.UnexpectedNullError("BPCR01844");this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this.onInitialised(),void 0!==this._checkReadyInterval&&(clearInterval(this._checkReadyInterval),this._checkReadyInterval=void 0))}serializeWindowFeatures(e){const t=[];for(const n in e)t.push(n+"="+e[n].toString());return t.join(",")}createUrl(){const e="gl-window-config-"+(0,a.getUniqueId)(),t=i.ResolvedLayoutConfig.minifyConfig(this._config);try{localStorage.setItem(e,JSON.stringify(t))}catch(e){throw new Error("Error while writing to localStorage "+(0,a.getErrorMessage)(e))}const n=new URL(location.href);return n.searchParams.set("gl-window",e),n.toString()}positionWindow(){if(null===this._popoutWindow)throw new Error("BrowserPopout.positionWindow: null popoutWindow");this._popoutWindow.moveTo(this._initialWindowSize.left,this._initialWindowSize.top),this._popoutWindow.focus()}onInitialised(){this._isInitialised=!0,this.getGlInstance().on("popIn",(()=>this.popIn())),this.emit("initialised")}_onClose(){setTimeout((()=>this.emit("closed")),50)}}t.BrowserPopout=l},265:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutManager=void 0;const i=n(876),o=n(745),s=n(196),r=n(305),a=n(428),l=n(13),d=n(129),h=n(677),c=n(743),u=n(521),m=n(783),p=n(663),f=n(445),g=n(554),_=n(667),v=n(744),C=n(565),y=n(328),I=n(646),b=n(682);class w extends v.EventEmitter{constructor(e){super(),this.resizeWithContainerAutomatically=!1,this.resizeDebounceInterval=100,this.resizeDebounceExtendedWhenPossible=!0,this._isInitialised=!1,this._groundItem=void 0,this._openPopouts=[],this._dropTargetIndicator=null,this._transitionIndicator=null,this._itemAreas=[],this._maximisePlaceholder=w.createMaximisePlaceElement(document),this._tabDropPlaceholder=w.createTabDropPlaceholderElement(document),this._dragSources=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._eventHub=new C.EventHub(this),this._width=null,this._height=null,this._virtualSizedContainers=[],this._virtualSizedContainerAddingBeginCount=0,this._sizeInvalidationBeginCount=0,this._resizeObserver=new ResizeObserver((()=>this.handleContainerResize())),this._windowBeforeUnloadListener=()=>this.onBeforeUnload(),this._windowBeforeUnloadListening=!1,this._maximisedStackBeforeDestroyedListener=e=>this.cleanupBeforeMaximisedStackDestroyed(e),this.isSubWindow=e.isSubWindow,this._constructorOrSubWindowLayoutConfig=e.constructorOrSubWindowLayoutConfig,y.I18nStrings.checkInitialise(),_.ConfigMinifier.checkInitialise(),void 0!==e.containerElement&&(this._containerElement=e.containerElement)}get container(){return this._containerElement}get isInitialised(){return this._isInitialised}get groundItem(){return this._groundItem}get root(){return this._groundItem}get openPopouts(){return this._openPopouts}get dropTargetIndicator(){return this._dropTargetIndicator}get transitionIndicator(){return this._transitionIndicator}get width(){return this._width}get height(){return this._height}get eventHub(){return this._eventHub}get rootItem(){if(void 0===this._groundItem)throw new Error("Cannot access rootItem before init");return 0===this._groundItem.contentItems.length?void 0:this._groundItem.contentItems[0]}get focusedComponentItem(){return this._focusedComponentItem}get tabDropPlaceholder(){return this._tabDropPlaceholder}get maximisedStack(){return this._maximisedStack}get deprecatedConstructor(){return!this.isSubWindow&&void 0!==this._constructorOrSubWindowLayoutConfig}destroy(){if(this._isInitialised){this._windowBeforeUnloadListening&&(globalThis.removeEventListener("beforeunload",this._windowBeforeUnloadListener),this._windowBeforeUnloadListening=!1),!0===this.layoutConfig.settings.closePopoutsOnUnload&&this.closeAllOpenPopouts(),this._resizeObserver.disconnect(),this.checkClearResizeTimeout(),void 0!==this._groundItem&&this._groundItem.destroy(),this._tabDropPlaceholder.remove(),null!==this._dropTargetIndicator&&this._dropTargetIndicator.destroy(),null!==this._transitionIndicator&&this._transitionIndicator.destroy(),this._eventHub.destroy();for(const e of this._dragSources)e.destroy();this._dragSources=[],this._isInitialised=!1}}minifyConfig(e){return o.ResolvedLayoutConfig.minifyConfig(e)}unminifyConfig(e){return o.ResolvedLayoutConfig.unminifyConfig(e)}init(){let e;if(this.setContainer(),this._dropTargetIndicator=new l.DropTargetIndicator,this._transitionIndicator=new d.TransitionIndicator,this.updateSizeFromContainer(),this.isSubWindow){if(void 0===this._constructorOrSubWindowLayoutConfig)throw new c.UnexpectedUndefinedError("LMIU07155");{const t=this._constructorOrSubWindowLayoutConfig.root;if(void 0===t)throw new c.AssertError("LMIC07156");if(!i.ItemConfig.isComponent(t))throw new c.AssertError("LMIC07157");e=t;const n=i.LayoutConfig.resolve(this._constructorOrSubWindowLayoutConfig);this.layoutConfig=Object.assign(Object.assign({},n),{root:void 0})}}else void 0===this._constructorOrSubWindowLayoutConfig?this.layoutConfig=o.ResolvedLayoutConfig.createDefault():this.layoutConfig=i.LayoutConfig.resolve(this._constructorOrSubWindowLayoutConfig);const t=this.layoutConfig;this._groundItem=new p.GroundItem(this,t.root,this._containerElement),this._groundItem.init(),this.checkLoadedLayoutMaximiseItem(),this._resizeObserver.observe(this._containerElement),this._isInitialised=!0,this.adjustColumnsResponsive(),this.emit("initialised"),void 0!==e&&this.loadComponentAsRoot(e)}loadLayout(e){if(!this.isInitialised)throw new Error("GoldenLayout: Need to call init() if LayoutConfig with defined root passed to constructor");if(void 0===this._groundItem)throw new c.UnexpectedUndefinedError("LMLL11119");this.createSubWindows(),this.layoutConfig=i.LayoutConfig.resolve(e),this._groundItem.loadRoot(this.layoutConfig.root),this.checkLoadedLayoutMaximiseItem(),this.adjustColumnsResponsive()}saveLayout(){if(!1===this._isInitialised)throw new Error("Can't create config, layout not yet initialised");if(void 0===this._groundItem)throw new c.UnexpectedUndefinedError("LMTC18244");{const e=this._groundItem.calculateConfigContent();let t;t=1!==e.length?void 0:e[0],this.reconcilePopoutWindows();const n=[];for(let e=0;e<this._openPopouts.length;e++)n.push(this._openPopouts[e].toConfig());return{root:t,openPopouts:n,settings:o.ResolvedLayoutConfig.Settings.createCopy(this.layoutConfig.settings),dimensions:o.ResolvedLayoutConfig.Dimensions.createCopy(this.layoutConfig.dimensions),header:o.ResolvedLayoutConfig.Header.createCopy(this.layoutConfig.header),resolved:!0}}}clear(){if(void 0===this._groundItem)throw new c.UnexpectedUndefinedError("LMCL11129");this._groundItem.clearRoot()}toConfig(){return this.saveLayout()}newComponent(e,t,n){const i=this.newComponentAtLocation(e,t,n);if(void 0===i)throw new c.AssertError("LMNC65588");return i}newComponentAtLocation(e,t,n,i){if(void 0===this._groundItem)throw new Error("Cannot add component before init");{const o=this.addComponentAtLocation(e,t,n,i);if(void 0===o)return;{const e=o.parentItem.contentItems[o.index];if(m.ContentItem.isComponentItem(e))return e;throw new c.AssertError("LMNC992877533")}}}addComponent(e,t,n){const i=this.addComponentAtLocation(e,t,n);if(void 0===i)throw new c.AssertError("LMAC99943");return i}addComponentAtLocation(e,t,n,i){const o={type:"component",componentType:e,componentState:t,title:n};return this.addItemAtLocation(o,i)}newItem(e){const t=this.newItemAtLocation(e);if(void 0===t)throw new c.AssertError("LMNC65588");return t}newItemAtLocation(e,t){if(void 0===this._groundItem)throw new Error("Cannot add component before init");{const n=this.addItemAtLocation(e,t);if(void 0===n)return;return n.parentItem.contentItems[n.index]}}addItem(e){const t=this.addItemAtLocation(e);if(void 0===t)throw new c.AssertError("LMAI99943");return t}addItemAtLocation(e,t){if(void 0===this._groundItem)throw new Error("Cannot add component before init");{void 0===t&&(t=w.defaultLocationSelectors);const n=this.findFirstLocation(t);if(void 0===n)return;{let t,o=n.parentItem;switch(o.type){case I.ItemType.ground:t=o.addItem(e,n.index),t>=0?o=this._groundItem.contentItems[0]:t=0;break;case I.ItemType.row:case I.ItemType.column:t=o.addItem(e,n.index);break;case I.ItemType.stack:if(i.ItemConfig.isComponent(e)){t=o.addItem(e,n.index);break}throw Error(y.i18nStrings[6]);case I.ItemType.component:throw new c.AssertError("LMAIALC87444602");default:throw new c.UnreachableCaseError("LMAIALU98881733",o.type)}if(i.ItemConfig.isComponent(e)){const e=o.contentItems[t];m.ContentItem.isStack(e)&&(o=e,t=0)}return n.parentItem=o,n.index=t,n}}}loadComponentAsRoot(e){if(void 0===this._groundItem)throw new Error("Cannot add item before init");this._groundItem.loadComponentAsRoot(e)}updateSize(e,t){this.setSize(e,t)}setSize(e,t){if(this._width=e,this._height=t,!0===this._isInitialised){if(void 0===this._groundItem)throw new c.UnexpectedUndefinedError("LMUS18881");if(this._groundItem.setSize(this._width,this._height),this._maximisedStack){const{width:e,height:t}=(0,b.getElementWidthAndHeight)(this._containerElement);(0,b.setElementWidth)(this._maximisedStack.element,e),(0,b.setElementHeight)(this._maximisedStack.element,t),this._maximisedStack.updateSize(!1)}this.adjustColumnsResponsive()}}beginSizeInvalidation(){this._sizeInvalidationBeginCount++}endSizeInvalidation(){0===--this._sizeInvalidationBeginCount&&this.updateSizeFromContainer()}updateSizeFromContainer(){const{width:e,height:t}=(0,b.getElementWidthAndHeight)(this._containerElement);this.setSize(e,t)}updateRootSize(e=!1){if(void 0===this._groundItem)throw new c.UnexpectedUndefinedError("LMURS28881");this._groundItem.updateSize(e)}createAndInitContentItem(e,t){const n=this.createContentItem(e,t);return n.init(),n}createContentItem(e,t){if("string"!=typeof e.type)throw new h.ConfigurationError("Missing parameter 'type'",JSON.stringify(e));return!o.ResolvedItemConfig.isComponentItem(e)||t instanceof g.Stack||!t||!0===this.isSubWindow&&t instanceof p.GroundItem||(e={type:I.ItemType.stack,content:[e],size:e.size,sizeUnit:e.sizeUnit,minSize:e.minSize,minSizeUnit:e.minSizeUnit,id:e.id,maximised:e.maximised,isClosable:e.isClosable,activeItemIndex:0,header:void 0}),this.createContentItemFromConfig(e,t)}findFirstComponentItemById(e){if(void 0===this._groundItem)throw new c.UnexpectedUndefinedError("LMFFCIBI82446");return this.findFirstContentItemTypeByIdRecursive(I.ItemType.component,e,this._groundItem)}createPopout(e,t,n,i){return e instanceof m.ContentItem?this.createPopoutFromContentItem(e,t,n,i):this.createPopoutFromItemConfig(e,t,n,i)}createPopoutFromContentItem(e,t,n,i){let s=e.parent,r=e;for(;null!==s&&1===s.contentItems.length&&!s.isGround;)r=s,s=s.parent;if(null===s)throw new c.UnexpectedNullError("LMCPFCI00834");{if(void 0===i&&(i=s.contentItems.indexOf(r)),null!==n&&s.addPopInParentId(n),void 0===t){const n=globalThis.screenX||globalThis.screenLeft,i=globalThis.screenY||globalThis.screenTop,o=e.element.offsetLeft,s=e.element.offsetTop,{width:r,height:a}=(0,b.getElementWidthAndHeight)(e.element);t={left:n+o,top:i+s,width:r,height:a}}const a=e.toConfig();if(e.remove(),o.ResolvedRootItemConfig.isRootItemConfig(a))return this.createPopoutFromItemConfig(a,t,n,i);throw new Error(`${y.i18nStrings[0]}`)}}beginVirtualSizedContainerAdding(){0===++this._virtualSizedContainerAddingBeginCount&&(this._virtualSizedContainers.length=0)}addVirtualSizedContainer(e){this._virtualSizedContainers.push(e)}endVirtualSizedContainerAdding(){if(0===--this._virtualSizedContainerAddingBeginCount){const e=this._virtualSizedContainers.length;if(e>0){this.fireBeforeVirtualRectingEvent(e);for(let t=0;t<e;t++)this._virtualSizedContainers[t].notifyVirtualRectingRequired();this.fireAfterVirtualRectingEvent(),this._virtualSizedContainers.length=0}}}fireBeforeVirtualRectingEvent(e){void 0!==this.beforeVirtualRectingEvent&&this.beforeVirtualRectingEvent(e)}fireAfterVirtualRectingEvent(){void 0!==this.afterVirtualRectingEvent&&this.afterVirtualRectingEvent()}createPopoutFromItemConfig(e,t,n,i){const o=this.toConfig(),s={root:e,openPopouts:[],settings:o.settings,dimensions:o.dimensions,header:o.header,window:t,parentId:n,indexInParent:i,resolved:!0};return this.createPopoutFromPopoutLayoutConfig(s)}createPopoutFromPopoutLayoutConfig(e){var t,n,i,o;const r=e.window,a={left:null!==(t=r.left)&&void 0!==t?t:globalThis.screenX||globalThis.screenLeft+20,top:null!==(n=r.top)&&void 0!==n?n:globalThis.screenY||globalThis.screenTop+20,width:null!==(i=r.width)&&void 0!==i?i:500,height:null!==(o=r.height)&&void 0!==o?o:309},l=new s.BrowserPopout(e,a,this);return l.on("initialised",(()=>this.emit("windowOpened",l))),l.on("closed",(()=>this.reconcilePopoutWindows())),this._openPopouts.push(l),this.layoutConfig.settings.closePopoutsOnUnload&&!this._windowBeforeUnloadListening&&(globalThis.addEventListener("beforeunload",this._windowBeforeUnloadListener,{passive:!0}),this._windowBeforeUnloadListening=!0),l}closeAllOpenPopouts(){for(let e=0;e<this._openPopouts.length;e++)this._openPopouts[e].close();this._openPopouts.length=0,this._windowBeforeUnloadListening&&(globalThis.removeEventListener("beforeunload",this._windowBeforeUnloadListener),this._windowBeforeUnloadListening=!1)}newDragSource(e,t,n,i,o){const s=new a.DragSource(this,e,[],t,n,i,o);return this._dragSources.push(s),s}removeDragSource(e){(0,b.removeFromArray)(e,this._dragSources),e.destroy()}startComponentDrag(e,t,n,i,o){new r.DragProxy(e,t,n,this,i,o)}focusComponent(e,t=!1){e.focus(t)}clearComponentFocus(e=!1){this.setFocusedComponentItem(void 0,e)}setFocusedComponentItem(e,t=!1){if(e!==this._focusedComponentItem){let n;if(void 0===e||(n=e.parentItem),void 0!==this._focusedComponentItem){const e=this._focusedComponentItem;this._focusedComponentItem=void 0,e.setBlurred(t);const i=e.parentItem;n===i?n=void 0:i.setFocusedValue(!1)}void 0!==e&&(this._focusedComponentItem=e,e.setFocused(t),void 0!==n&&n.setFocusedValue(!0))}}createContentItemFromConfig(e,t){switch(e.type){case I.ItemType.ground:throw new c.AssertError("LMCCIFC68871");case I.ItemType.row:return new f.RowOrColumn(!1,this,e,t);case I.ItemType.column:return new f.RowOrColumn(!0,this,e,t);case I.ItemType.stack:return new g.Stack(this,e,t);case I.ItemType.component:return new u.ComponentItem(this,e,t);default:throw new c.UnreachableCaseError("CCC913564",e.type,"Invalid Config Item type specified")}}setMaximisedStack(e){void 0===e?void 0!==this._maximisedStack&&this.processMinimiseMaximisedStack():e!==this._maximisedStack&&(void 0!==this._maximisedStack&&this.processMinimiseMaximisedStack(),this.processMaximiseStack(e))}checkMinimiseMaximisedStack(){void 0!==this._maximisedStack&&this._maximisedStack.minimise()}cleanupBeforeMaximisedStackDestroyed(e){null!==this._maximisedStack&&this._maximisedStack===e.target&&(this._maximisedStack.off("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener),this._maximisedStack=void 0)}closeWindow(){globalThis.setTimeout((()=>globalThis.close()),1)}getArea(e,t){let n=null,i=1/0;for(let o=0;o<this._itemAreas.length;o++){const s=this._itemAreas[o];e>=s.x1&&e<s.x2&&t>=s.y1&&t<s.y2&&i>s.surface&&(i=s.surface,n=s)}return n}calculateItemAreas(){const e=this.getAllContentItems(),t=this._groundItem;if(void 0===t)throw new c.UnexpectedUndefinedError("LMCIAR44365");if(1!==e.length){t.contentItems[0].isStack?this._itemAreas=[]:this._itemAreas=t.createSideAreas();for(let t=0;t<e.length;t++){const n=e[t];if(m.ContentItem.isStack(n)){const e=n.getArea();if(null===e)continue;{this._itemAreas.push(e);const t=n.contentAreaDimensions;if(void 0===t)throw new c.UnexpectedUndefinedError("LMCIASC45599");{const e=t.header.highlightArea,i=(e.x2-e.x1)*(e.y2-e.y1),o={x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,contentItem:n,surface:i};this._itemAreas.push(o)}}}}}else{const e=t.getElementArea();if(null===e)throw new c.UnexpectedNullError("LMCIARA44365");this._itemAreas=[e]}}checkLoadedLayoutMaximiseItem(){if(void 0===this._groundItem)throw new c.UnexpectedUndefinedError("LMCLLMI43432");{const e=this._groundItem.getConfigMaximisedItems();if(e.length>0){let t=e[0];if(m.ContentItem.isComponentItem(t)){const e=t.parent;if(null===e)throw new c.UnexpectedNullError("LMXLLMI69999");t=e}if(!m.ContentItem.isStack(t))throw new c.AssertError("LMCLLMI19993");t.maximise()}}}processMaximiseStack(e){if(this._maximisedStack=e,e.on("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener),e.element.classList.add("lm_maximised"),e.element.insertAdjacentElement("afterend",this._maximisePlaceholder),void 0===this._groundItem)throw new c.UnexpectedUndefinedError("LMMXI19993");{this._groundItem.element.prepend(e.element);const{width:t,height:n}=(0,b.getElementWidthAndHeight)(this._containerElement);(0,b.setElementWidth)(e.element,t),(0,b.setElementHeight)(e.element,n),e.updateSize(!0),e.focusActiveContentItem(),this._maximisedStack.emit("maximised"),this.emit("stateChanged")}}processMinimiseMaximisedStack(){if(void 0===this._maximisedStack)throw new c.AssertError("LMMMS74422");{const e=this._maximisedStack;if(null===e.parent)throw new c.UnexpectedNullError("LMMI13668");e.element.classList.remove("lm_maximised"),this._maximisePlaceholder.insertAdjacentElement("afterend",e.element),this._maximisePlaceholder.remove(),this.updateRootSize(!0),this._maximisedStack=void 0,e.off("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener),e.emit("minimised"),this.emit("stateChanged")}}reconcilePopoutWindows(){const e=[];for(let t=0;t<this._openPopouts.length;t++)!1===this._openPopouts[t].getWindow().closed?e.push(this._openPopouts[t]):this.emit("windowClosed",this._openPopouts[t]);this._openPopouts.length!==e.length&&(this._openPopouts=e,this.emit("stateChanged"))}getAllContentItems(){if(void 0===this._groundItem)throw new c.UnexpectedUndefinedError("LMGACI13130");return this._groundItem.getAllContentItems()}createSubWindows(){for(let e=0;e<this.layoutConfig.openPopouts.length;e++){const t=this.layoutConfig.openPopouts[e];this.createPopoutFromPopoutLayoutConfig(t)}}handleContainerResize(){this.resizeWithContainerAutomatically&&this.processResizeWithDebounce()}processResizeWithDebounce(){this.resizeDebounceExtendedWhenPossible&&this.checkClearResizeTimeout(),void 0===this._resizeTimeoutId&&(this._resizeTimeoutId=setTimeout((()=>{this._resizeTimeoutId=void 0,this.beginSizeInvalidation(),this.endSizeInvalidation()}),this.resizeDebounceInterval))}checkClearResizeTimeout(){void 0!==this._resizeTimeoutId&&(clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=void 0)}setContainer(){var e;const t=document.body,n=null!==(e=this._containerElement)&&void 0!==e?e:t;if(n===t){this.resizeWithContainerAutomatically=!0;const e=document.documentElement;e.style.height="100%",e.style.margin="0",e.style.padding="0",e.style.overflow="clip",t.style.height="100%",t.style.margin="0",t.style.padding="0",t.style.overflow="clip"}this._containerElement=n}onBeforeUnload(){this.destroy()}adjustColumnsResponsive(){if(void 0===this._groundItem)throw new c.UnexpectedUndefinedError("LMACR20883");if(this._firstLoad=!1,this.useResponsiveLayout()&&!this._updatingColumnsResponsive&&this._groundItem.contentItems.length>0&&this._groundItem.contentItems[0].isRow){if(void 0===this._groundItem||null===this._width)throw new c.UnexpectedUndefinedError("LMACR77412");{const e=this._groundItem.contentItems[0].contentItems.length;if(e<=1)return;{const t=this.layoutConfig.dimensions.defaultMinItemWidth;if(e*t<=this._width)return;{this._updatingColumnsResponsive=!0;const n=e-Math.max(Math.floor(this._width/t),1),i=this._groundItem.contentItems[0],o=this.getAllStacks();if(0===o.length)throw new c.AssertError("LMACRS77413");{const e=o[0];for(let t=0;t<n;t++){const t=i.contentItems[i.contentItems.length-1];this.addChildContentItemsToContainer(e,t)}this._updatingColumnsResponsive=!1}}}}}}useResponsiveLayout(){const e=this.layoutConfig.settings,t=e.responsiveMode===I.ResponsiveMode.always,n=e.responsiveMode===I.ResponsiveMode.onload&&this._firstLoad;return t||n}addChildContentItemsToContainer(e,t){const n=t.contentItems;if(t instanceof g.Stack)for(let i=0;i<n.length;i++){const o=n[i];t.removeChild(o,!0),e.addChild(o)}else for(let t=0;t<n.length;t++){const i=n[t];this.addChildContentItemsToContainer(e,i)}}getAllStacks(){if(void 0===this._groundItem)throw new c.UnexpectedUndefinedError("LMFASC52778");{const e=[];return this.findAllStacksRecursive(e,this._groundItem),e}}findFirstContentItemType(e){if(void 0===this._groundItem)throw new c.UnexpectedUndefinedError("LMFFCIT82446");return this.findFirstContentItemTypeRecursive(e,this._groundItem)}findFirstContentItemTypeRecursive(e,t){const n=t.contentItems,i=n.length;if(0!==i){for(let t=0;t<i;t++){const i=n[t];if(i.type===e)return i}for(let t=0;t<i;t++){const i=n[t],o=this.findFirstContentItemTypeRecursive(e,i);if(void 0!==o)return o}}}findFirstContentItemTypeByIdRecursive(e,t,n){const i=n.contentItems,o=i.length;if(0!==o){for(let n=0;n<o;n++){const o=i[n];if(o.type===e&&o.id===t)return o}for(let n=0;n<o;n++){const o=i[n],s=this.findFirstContentItemTypeByIdRecursive(e,t,o);if(void 0!==s)return s}}}findAllStacksRecursive(e,t){const n=t.contentItems;for(let t=0;t<n.length;t++){const i=n[t];i instanceof g.Stack?e.push(i):i.isComponent||this.findAllStacksRecursive(e,i)}}findFirstLocation(e){const t=e.length;for(let n=0;n<t;n++){const t=e[n],i=this.findLocation(t);if(void 0!==i)return i}}findLocation(e){const t=e.index;switch(e.typeId){case 0:if(void 0===this._focusedComponentItem)return;{const e=this._focusedComponentItem.parentItem,n=e.contentItems,i=n.length;if(void 0===t)return{parentItem:e,index:i};{const o=n.indexOf(this._focusedComponentItem)+t;return o<0||o>i?void 0:{parentItem:e,index:o}}}case 1:if(void 0===this._focusedComponentItem)return;{const e=this._focusedComponentItem.parentItem;return this.tryCreateLocationFromParentItem(e,t)}case 2:{const e=this.findFirstContentItemType(I.ItemType.stack);return void 0===e?void 0:this.tryCreateLocationFromParentItem(e,t)}case 3:{let e=this.findFirstContentItemType(I.ItemType.row);return void 0!==e?this.tryCreateLocationFromParentItem(e,t):(e=this.findFirstContentItemType(I.ItemType.column),void 0!==e?this.tryCreateLocationFromParentItem(e,t):void 0)}case 4:{const e=this.findFirstContentItemType(I.ItemType.row);return void 0===e?void 0:this.tryCreateLocationFromParentItem(e,t)}case 5:{const e=this.findFirstContentItemType(I.ItemType.column);return void 0===e?void 0:this.tryCreateLocationFromParentItem(e,t)}case 6:if(void 0===this._groundItem)throw new c.UnexpectedUndefinedError("LMFLRIF18244");return void 0!==this.rootItem?void 0:void 0===t||0===t?{parentItem:this._groundItem,index:0}:void 0;case 7:if(void 0===this._groundItem)throw new c.UnexpectedUndefinedError("LMFLF18244");{const e=this._groundItem.contentItems;if(0===e.length)return void 0===t||0===t?{parentItem:this._groundItem,index:0}:void 0;{const n=e[0];return this.tryCreateLocationFromParentItem(n,t)}}}}tryCreateLocationFromParentItem(e,t){const n=e.contentItems.length;return void 0===t?{parentItem:e,index:n}:t<0||t>n?void 0:{parentItem:e,index:t}}}t.LayoutManager=w,function(e){e.createMaximisePlaceElement=function(e){const t=e.createElement("div");return t.classList.add("lm_maximise_place"),t},e.createTabDropPlaceholderElement=function(e){const t=e.createElement("div");return t.classList.add("lm_drop_tab_placeholder"),t},e.defaultLocationSelectors=[{typeId:1,index:void 0},{typeId:2,index:void 0},{typeId:3,index:void 0},{typeId:7,index:void 0}],e.afterFocusedItemIfPossibleLocationSelectors=[{typeId:0,index:1},{typeId:2,index:void 0},{typeId:3,index:void 0},{typeId:7,index:void 0}]}(w=t.LayoutManager||(t.LayoutManager={}))},291:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualLayout=t.StyleConstants=t.EventHub=t.EventEmitter=t.LayoutManager=t.Stack=t.RowOrColumn=t.ContentItem=t.ComponentItem=t.GoldenLayout=t.Tab=t.Header=t.DragSource=t.BrowserPopout=t.ComponentContainer=void 0;const i=n(635);i.__exportStar(n(876),t),i.__exportStar(n(745),t);var o=n(836);Object.defineProperty(t,"ComponentContainer",{enumerable:!0,get:function(){return o.ComponentContainer}});var s=n(196);Object.defineProperty(t,"BrowserPopout",{enumerable:!0,get:function(){return s.BrowserPopout}});var r=n(428);Object.defineProperty(t,"DragSource",{enumerable:!0,get:function(){return r.DragSource}});var a=n(164);Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return a.Header}});var l=n(51);Object.defineProperty(t,"Tab",{enumerable:!0,get:function(){return l.Tab}}),i.__exportStar(n(677),t);var d=n(327);Object.defineProperty(t,"GoldenLayout",{enumerable:!0,get:function(){return d.GoldenLayout}});var h=n(521);Object.defineProperty(t,"ComponentItem",{enumerable:!0,get:function(){return h.ComponentItem}});var c=n(783);Object.defineProperty(t,"ContentItem",{enumerable:!0,get:function(){return c.ContentItem}});var u=n(445);Object.defineProperty(t,"RowOrColumn",{enumerable:!0,get:function(){return u.RowOrColumn}});var m=n(554);Object.defineProperty(t,"Stack",{enumerable:!0,get:function(){return m.Stack}});var p=n(265);Object.defineProperty(t,"LayoutManager",{enumerable:!0,get:function(){return p.LayoutManager}});var f=n(744);Object.defineProperty(t,"EventEmitter",{enumerable:!0,get:function(){return f.EventEmitter}});var g=n(565);Object.defineProperty(t,"EventHub",{enumerable:!0,get:function(){return g.EventHub}}),i.__exportStar(n(328),t);var _=n(650);Object.defineProperty(t,"StyleConstants",{enumerable:!0,get:function(){return _.StyleConstants}}),i.__exportStar(n(646),t);var v=n(881);Object.defineProperty(t,"VirtualLayout",{enumerable:!0,get:function(){return v.VirtualLayout}})},305:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DragProxy=void 0;const i=n(743),o=n(554),s=n(744),r=n(646),a=n(682);class l extends s.EventEmitter{constructor(e,t,n,o,s,r){if(super(),this._dragListener=n,this._layoutManager=o,this._componentItem=s,this._originalParent=r,this._area=null,this._lastValidArea=null,this._dragListener.on("drag",((e,t,n)=>this.onDrag(e,t,n))),this._dragListener.on("dragStop",(()=>this.onDrop())),this.createDragProxyElements(e,t),null===this._componentItem.parent)throw new i.UnexpectedNullError("DPC10097");this._componentItemFocused=this._componentItem.focused,this._componentItemFocused&&this._componentItem.blur(),this._componentItem.parent.removeChild(this._componentItem,!0),this.setDimensions(),document.body.appendChild(this._element),this.determineMinMaxXY(),this._layoutManager.calculateItemAreas(),this.setDropPosition(e,t)}get element(){return this._element}createDragProxyElements(e,t){this._element=document.createElement("div"),this._element.classList.add("lm_dragProxy");const n=document.createElement("div");n.classList.add("lm_header");const i=document.createElement("div");i.classList.add("lm_tabs");const s=document.createElement("div");s.classList.add("lm_tab");const l=document.createElement("span");l.classList.add("lm_title"),s.appendChild(l),i.appendChild(s),n.appendChild(i),this._proxyContainerElement=document.createElement("div"),this._proxyContainerElement.classList.add("lm_content"),this._element.appendChild(n),this._element.appendChild(this._proxyContainerElement),this._originalParent instanceof o.Stack&&this._originalParent.headerShow&&(this._sided=this._originalParent.headerLeftRightSided,this._element.classList.add("lm_"+this._originalParent.headerSide),[r.Side.right,r.Side.bottom].indexOf(this._originalParent.headerSide)>=0&&this._proxyContainerElement.insertAdjacentElement("afterend",n)),this._element.style.left=(0,a.numberToPixels)(e),this._element.style.top=(0,a.numberToPixels)(t),s.setAttribute("title",this._componentItem.title),l.insertAdjacentText("afterbegin",this._componentItem.title),this._proxyContainerElement.appendChild(this._componentItem.element)}determineMinMaxXY(){const e=this._layoutManager.groundItem;if(void 0===e)throw new i.UnexpectedUndefinedError("DPDMMXY73109");{const t=e.element.getBoundingClientRect();this._minX=t.left+document.body.scrollLeft,this._minY=t.top+document.body.scrollTop,this._maxX=this._minX+t.width,this._maxY=this._minY+t.height}}onDrag(e,t,n){const i=n.pageX,o=n.pageY;this.setDropPosition(i,o),this._componentItem.drag()}setDropPosition(e,t){this._layoutManager.layoutConfig.settings.constrainDragToContainer&&(e<=this._minX?e=Math.ceil(this._minX):e>=this._maxX&&(e=Math.floor(this._maxX)),t<=this._minY?t=Math.ceil(this._minY):t>=this._maxY&&(t=Math.floor(this._maxY))),this._element.style.left=(0,a.numberToPixels)(e),this._element.style.top=(0,a.numberToPixels)(t),this._area=this._layoutManager.getArea(e,t),null!==this._area&&(this._lastValidArea=this._area,this._area.contentItem.highlightDropZone(e,t,this._area))}onDrop(){const e=this._layoutManager.dropTargetIndicator;if(null===e)throw new i.UnexpectedNullError("DPOD30011");let t;e.hide(),this._componentItem.exitDragMode(),null!==this._area?(t=this._componentItem,this._area.contentItem.onDrop(t,this._area)):null!==this._lastValidArea?(t=this._componentItem,this._lastValidArea.contentItem.onDrop(t,this._lastValidArea)):this._originalParent?(t=this._componentItem,this._originalParent.addChild(t)):this._componentItem.destroy(),this._element.remove(),this._layoutManager.emit("itemDropped",this._componentItem),this._componentItemFocused&&void 0!==t&&t.focus()}setDimensions(){const e=this._layoutManager.layoutConfig.dimensions;if(void 0===e)throw new Error("DragProxy.setDimensions: dimensions undefined");let t=e.dragProxyWidth,n=e.dragProxyHeight;if(void 0===t||void 0===n)throw new Error("DragProxy.setDimensions: width and/or height undefined");const i=!1===this._layoutManager.layoutConfig.header.show?0:e.headerHeight;this._element.style.width=(0,a.numberToPixels)(t),this._element.style.height=(0,a.numberToPixels)(n),t-=this._sided?i:0,n-=this._sided?0:i,this._proxyContainerElement.style.width=(0,a.numberToPixels)(t),this._proxyContainerElement.style.height=(0,a.numberToPixels)(n),this._componentItem.enterDragMode(t,n),this._componentItem.show()}}t.DragProxy=l},327:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GoldenLayout=void 0;const i=n(745),o=n(677),s=n(743),r=n(328),a=n(682),l=n(881);class d extends l.VirtualLayout{constructor(e,t,n){super(e,t,n,!0),this._componentTypesMap=new Map,this._registeredComponentMap=new Map,this._virtuableComponentMap=new Map,this._containerVirtualRectingRequiredEventListener=(e,t,n)=>this.handleContainerVirtualRectingRequiredEvent(e,t,n),this._containerVirtualVisibilityChangeRequiredEventListener=(e,t)=>this.handleContainerVirtualVisibilityChangeRequiredEvent(e,t),this._containerVirtualZIndexChangeRequiredEventListener=(e,t,n)=>this.handleContainerVirtualZIndexChangeRequiredEvent(e,t,n),this.deprecatedConstructor||this.init()}registerComponent(e,t,n=!1){if("function"!=typeof t)throw new o.ApiError("registerComponent() componentConstructorOrFactoryFtn parameter is not a function");if(t.hasOwnProperty("prototype")){const i=t;this.registerComponentConstructor(e,i,n)}else{const i=t;this.registerComponentFactoryFunction(e,i,n)}}registerComponentConstructor(e,t,n=!1){if("function"!=typeof t)throw new Error(r.i18nStrings[1]);if(void 0!==this._componentTypesMap.get(e))throw new o.BindError(`${r.i18nStrings[3]}: ${e}`);this._componentTypesMap.set(e,{constructor:t,factoryFunction:void 0,virtual:n})}registerComponentFactoryFunction(e,t,n=!1){if("function"!=typeof t)throw new o.BindError("Please register a constructor function");if(void 0!==this._componentTypesMap.get(e))throw new o.BindError(`${r.i18nStrings[3]}: ${e}`);this._componentTypesMap.set(e,{constructor:void 0,factoryFunction:t,virtual:n})}registerComponentFunction(e){this.registerGetComponentConstructorCallback(e)}registerGetComponentConstructorCallback(e){if("function"!=typeof e)throw new Error("Please register a callback function");void 0!==this._getComponentConstructorFtn&&console.warn("Multiple component functions are being registered.  Only the final registered function will be used."),this._getComponentConstructorFtn=e}getRegisteredComponentTypeNames(){const e=this._componentTypesMap.keys();return Array.from(e)}getComponentInstantiator(e){let t;const n=i.ResolvedComponentItemConfig.resolveComponentTypeName(e);return void 0!==n&&(t=this._componentTypesMap.get(n)),void 0===t&&void 0!==this._getComponentConstructorFtn&&(t={constructor:this._getComponentConstructorFtn(e),factoryFunction:void 0,virtual:!1}),t}bindComponent(e,t){let n;const l=i.ResolvedComponentItemConfig.resolveComponentTypeName(t);let d;if(void 0!==l&&(n=this._componentTypesMap.get(l)),void 0===n&&void 0!==this._getComponentConstructorFtn&&(n={constructor:this._getComponentConstructorFtn(t),factoryFunction:void 0,virtual:!1}),void 0!==n){const i=n.virtual;let h,c;h=void 0===t.componentState?void 0:(0,a.deepExtendValue)({},t.componentState);const u=n.constructor;if(void 0!==u)c=new u(e,h,i);else{const t=n.factoryFunction;if(void 0===t)throw new s.AssertError("LMBCFFU10008");c=t(e,h,i)}if(i){if(void 0===c)throw new s.UnexpectedUndefinedError("GLBCVCU988774");{const t=c,n=t.rootHtmlElement;if(void 0===n)throw new o.BindError(`${r.i18nStrings[5]}: ${l}`);(0,a.ensureElementPositionAbsolute)(n),this.container.appendChild(n),this._virtuableComponentMap.set(e,t),e.virtualRectingRequiredEvent=this._containerVirtualRectingRequiredEventListener,e.virtualVisibilityChangeRequiredEvent=this._containerVirtualVisibilityChangeRequiredEventListener,e.virtualZIndexChangeRequiredEvent=this._containerVirtualZIndexChangeRequiredEventListener}}this._registeredComponentMap.set(e,c),d={virtual:n.virtual,component:c}}else d=super.bindComponent(e,t);return d}unbindComponent(e,t,n){if(void 0===this._registeredComponentMap.get(e))super.unbindComponent(e,t,n);else{const t=this._virtuableComponentMap.get(e);if(void 0!==t){const n=t.rootHtmlElement;if(void 0===n)throw new s.AssertError("GLUC77743",e.title);this.container.removeChild(n),this._virtuableComponentMap.delete(e)}}}fireBeforeVirtualRectingEvent(e){this._goldenLayoutBoundingClientRect=this.container.getBoundingClientRect(),super.fireBeforeVirtualRectingEvent(e)}handleContainerVirtualRectingRequiredEvent(e,t,n){const i=this._virtuableComponentMap.get(e);if(void 0===i)throw new s.UnexpectedUndefinedError("GLHCSCE55933");{const s=i.rootHtmlElement;if(void 0===s)throw new o.BindError(r.i18nStrings[4]+" "+e.title);{const i=e.element.getBoundingClientRect(),o=i.left-this._goldenLayoutBoundingClientRect.left;s.style.left=(0,a.numberToPixels)(o);const r=i.top-this._goldenLayoutBoundingClientRect.top;s.style.top=(0,a.numberToPixels)(r),(0,a.setElementWidth)(s,t),(0,a.setElementHeight)(s,n)}}}handleContainerVirtualVisibilityChangeRequiredEvent(e,t){const n=this._virtuableComponentMap.get(e);if(void 0===n)throw new s.UnexpectedUndefinedError("GLHCVVCRE55934");{const i=n.rootHtmlElement;if(void 0===i)throw new o.BindError(r.i18nStrings[4]+" "+e.title);(0,a.setElementDisplayVisibility)(i,t)}}handleContainerVirtualZIndexChangeRequiredEvent(e,t,n){const i=this._virtuableComponentMap.get(e);if(void 0===i)throw new s.UnexpectedUndefinedError("GLHCVZICRE55935");{const t=i.rootHtmlElement;if(void 0===t)throw new o.BindError(r.i18nStrings[4]+" "+e.title);t.style.zIndex=n}}}t.GoldenLayout=d},328:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.i18nStrings=t.I18nStrings=void 0;const i=n(743);var o;!function(e){let n=!1;const o={PopoutCannotBeCreatedWithGroundItemConfig:{id:0,default:"Popout cannot be created with ground ItemConfig"},PleaseRegisterAConstructorFunction:{id:1,default:"Please register a constructor function"},ComponentTypeNotRegisteredAndBindComponentEventHandlerNotAssigned:{id:2,default:"Component type not registered and BindComponentEvent handler not assigned"},ComponentIsAlreadyRegistered:{id:3,default:"Component is already registered"},ComponentIsNotVirtuable:{id:4,default:"Component is not virtuable. Requires rootHtmlElement field/getter"},VirtualComponentDoesNotHaveRootHtmlElement:{id:5,default:'Virtual component does not have getter "rootHtmlElement"'},ItemConfigIsNotTypeComponent:{id:6,default:"ItemConfig is not of type component"},InvalidNumberPartInSizeString:{id:7,default:"Invalid number part in size string"},UnknownUnitInSizeString:{id:8,default:"Unknown unit in size string"},UnsupportedUnitInSizeString:{id:9,default:"Unsupported unit in size string"}};e.idCount=Object.keys(o).length;const s=Object.values(o);e.checkInitialise=function(){if(!n)for(let n=0;n<e.idCount;n++){const e=s[n];if(e.id!==n)throw new i.AssertError("INSI00110",`${n}: ${e.id}`);t.i18nStrings[n]=e.default}n=!0}}(o=t.I18nStrings||(t.I18nStrings={})),t.i18nStrings=new Array(o.idCount)},332:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderButton=void 0,t.HeaderButton=class{constructor(e,t,n,i){this._header=e,this._pushEvent=i,this._clickEventListener=e=>this.onClick(e),this._touchStartEventListener=e=>this.onTouchStart(e),this._element=document.createElement("div"),this._element.classList.add(n),this._element.title=t,this._header.on("destroy",(()=>this.destroy())),this._element.addEventListener("click",this._clickEventListener,{passive:!0}),this._element.addEventListener("touchstart",this._touchStartEventListener,{passive:!0}),this._header.controlsContainerElement.appendChild(this._element)}get element(){return this._element}destroy(){var e;this._element.removeEventListener("click",this._clickEventListener),this._element.removeEventListener("touchstart",this._touchStartEventListener),null===(e=this._element.parentNode)||void 0===e||e.removeChild(this._element)}onClick(e){this._pushEvent(e)}onTouchStart(e){this._pushEvent(e)}}},428:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DragSource=void 0;const i=n(876),o=n(745),s=n(743),r=n(521),a=n(663),l=n(902),d=n(305);class h{constructor(e,t,n,i,s,r,l){this._layoutManager=e,this._element=t,this._extraAllowableChildTargets=n,this._componentTypeOrFtn=i,this._componentState=s,this._title=r,this._id=l,this._dragListener=null,this._dummyGroundContainer=document.createElement("div");const d=o.ResolvedRowOrColumnItemConfig.createDefault("row");this._dummyGroundContentItem=new a.GroundItem(this._layoutManager,d,this._dummyGroundContainer),this.createDragListener()}destroy(){this.removeDragListener()}createDragListener(){this.removeDragListener(),this._dragListener=new l.DragListener(this._element,this._extraAllowableChildTargets),this._dragListener.on("dragStart",((e,t)=>this.onDragStart(e,t))),this._dragListener.on("dragStop",(()=>this.onDragStop()))}onDragStart(e,t){var n;const o="component";let a;if("function"==typeof this._componentTypeOrFtn){const e=this._componentTypeOrFtn();a=h.isDragSourceComponentItemConfig(e)?{type:o,componentState:e.state,componentType:e.type,title:null!==(n=e.title)&&void 0!==n?n:this._title}:e}else a={type:o,componentState:this._componentState,componentType:this._componentTypeOrFtn,title:this._title,id:this._id};const l=i.ComponentItemConfig.resolve(a,!1),c=new r.ComponentItem(this._layoutManager,l,this._dummyGroundContentItem);if(this._dummyGroundContentItem.contentItems.push(c),null===this._dragListener)throw new s.UnexpectedNullError("DSODSD66746");{const n=new d.DragProxy(e,t,this._dragListener,this._layoutManager,c,this._dummyGroundContentItem),i=this._layoutManager.transitionIndicator;if(null===i)throw new s.UnexpectedNullError("DSODST66746");i.transitionElements(this._element,n.element)}}onDragStop(){this.createDragListener()}removeDragListener(){null!==this._dragListener&&(this._dragListener.destroy(),this._dragListener=null)}}t.DragSource=h,function(e){e.isDragSourceComponentItemConfig=function(e){return!("componentType"in e)}}(h=t.DragSource||(t.DragSource={}))},445:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RowOrColumn=void 0;const i=n(876),o=n(785),s=n(743),r=n(646),a=n(682),l=n(783);class d extends l.ContentItem{constructor(e,t,n,i){switch(super(t,n,i,d.createElement(document,e)),this._rowOrColumnParent=i,this._splitter=[],this.isRow=!e,this.isColumn=e,this._childElementContainer=this.element,this._splitterSize=t.layoutConfig.dimensions.borderWidth,this._splitterGrabSize=t.layoutConfig.dimensions.borderGrabWidth,this._isColumn=e,this._dimension=e?"height":"width",this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,n.type){case r.ItemType.row:case r.ItemType.column:this._configType=n.type;break;default:throw new s.AssertError("ROCCCT00925")}}newComponent(e,t,n,i){const o={type:"component",componentType:e,componentState:t,title:n};return this.newItem(o,i)}addComponent(e,t,n,i){const o={type:"component",componentType:e,componentState:t,title:n};return this.addItem(o,i)}newItem(e,t){t=this.addItem(e,t);const n=this.contentItems[t];return l.ContentItem.isStack(n)&&i.ItemConfig.isComponent(e)?n.contentItems[0]:n}addItem(e,t){this.layoutManager.checkMinimiseMaximisedStack();const n=i.ItemConfig.resolve(e,!1),o=this.layoutManager.createAndInitContentItem(n,this);return this.addChild(o,t,!1)}addChild(e,t,n){if(void 0===t&&(t=this.contentItems.length),this.contentItems.length>0){const n=this.createSplitter(Math.max(0,t-1)).element;t>0?(this.contentItems[t-1].element.insertAdjacentElement("afterend",n),n.insertAdjacentElement("afterend",e.element)):(this.contentItems[0].element.insertAdjacentElement("beforebegin",n),n.insertAdjacentElement("beforebegin",e.element))}else this._childElementContainer.appendChild(e.element);super.addChild(e,t);const i=1/this.contentItems.length*100;if(!0===n)return this.emitBaseBubblingEvent("stateChanged"),t;for(let t=0;t<this.contentItems.length;t++){const n=this.contentItems[t];if(n===e)e.size=i;else{const e=n.size*=(100-i)/100;n.size=e}}return this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged"),t}removeChild(e,t){const n=this.contentItems.indexOf(e),i=Math.max(n-1,0);if(-1===n)throw new Error("Can't remove child. ContentItem is not child of this Row or Column");if(this._splitter[i]&&(this._splitter[i].destroy(),this._splitter.splice(i,1)),super.removeChild(e,t),1===this.contentItems.length&&!0===this.isClosable){const e=this.contentItems[0];this.contentItems.length=0,this._rowOrColumnParent.replaceChild(this,e,!0)}else this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged")}replaceChild(e,t){const n=e.size;super.replaceChild(e,t),t.size=n,this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged")}updateSize(e){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(e)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}init(){if(!0!==this.isInitialised){this.updateNodeSize();for(let e=0;e<this.contentItems.length;e++)this._childElementContainer.appendChild(this.contentItems[e].element);super.init();for(let e=0;e<this.contentItems.length-1;e++)this.contentItems[e].element.insertAdjacentElement("afterend",this.createSplitter(e).element);this.initContentItems()}}toConfig(){return{type:this.type,content:this.calculateConfigContent(),size:this.size,sizeUnit:this.sizeUnit,minSize:this.minSize,minSizeUnit:this.minSizeUnit,id:this.id,isClosable:this.isClosable}}setParent(e){this._rowOrColumnParent=e,super.setParent(e)}updateNodeSize(){this.contentItems.length>0&&(this.calculateRelativeSizes(),this.setAbsoluteSizes()),this.emitBaseBubblingEvent("stateChanged"),this.emit("resize")}setAbsoluteSizes(){const e=this.calculateAbsoluteSizes();for(let t=0;t<this.contentItems.length;t++)e.additionalPixel-t>0&&e.itemSizes[t]++,this._isColumn?((0,a.setElementWidth)(this.contentItems[t].element,e.crossAxisSize),(0,a.setElementHeight)(this.contentItems[t].element,e.itemSizes[t])):((0,a.setElementWidth)(this.contentItems[t].element,e.itemSizes[t]),(0,a.setElementHeight)(this.contentItems[t].element,e.crossAxisSize))}calculateAbsoluteSizes(){const e=(this.contentItems.length-1)*this._splitterSize,{width:t,height:n}=(0,a.getElementWidthAndHeight)(this.element);let i,o;this._isColumn?(i=n-e,o=t):(i=t-e,o=n);let l=0;const d=[];for(let e=0;e<this.contentItems.length;e++){const t=this.contentItems[e];let n;if(t.sizeUnit!==r.SizeUnitEnum.Percent)throw new s.AssertError("ROCCAS6692");n=Math.floor(i*(t.size/100)),l+=n,d.push(n)}return{itemSizes:d,additionalPixel:Math.floor(i-l),totalSize:i,crossAxisSize:o}}calculateRelativeSizes(){let e=0;const t=[];let n=0;for(let i=0;i<this.contentItems.length;i++){const o=this.contentItems[i];switch(o.sizeUnit){case r.SizeUnitEnum.Percent:e+=o.size;break;case r.SizeUnitEnum.Fractional:t.push(o),n+=o.size;break;default:throw new s.AssertError("ROCCRS49110",JSON.stringify(o))}}if(100!==Math.round(e))if(Math.round(e)<100&&t.length>0){const i=100-e;for(let e=0;e<t.length;e++){const o=t[e];o.size=i*(o.size/n),o.sizeUnit=r.SizeUnitEnum.Percent}this.respectMinItemSize()}else{if(Math.round(e)>100&&t.length>0){for(let e=0;e<t.length;e++){const i=t[e];i.size=i.size/n*50,i.sizeUnit=r.SizeUnitEnum.Percent}e+=50}for(let t=0;t<this.contentItems.length;t++){const n=this.contentItems[t];n.size=n.size/e*100}this.respectMinItemSize()}else this.respectMinItemSize()}respectMinItemSize(){const e=this.calculateContentItemMinSize(this);if(!(e<=0||this.contentItems.length<=1)){let t=0,n=0;const i=[],o=[],s=this.calculateAbsoluteSizes();for(let r=0;r<s.itemSizes.length;r++){const a=s.itemSizes[r];let l;a<e?(n+=e-a,l={size:e}):(t+=a-e,l={size:a},i.push(l)),o.push(l)}if(0===n||n>t)return;{const r=n/t;let a=n;for(let t=0;t<i.length;t++){const n=i[t],o=Math.round((n.size-e)*r);a-=o,n.size-=o}0!==a&&(o[o.length-1].size-=a);for(let e=0;e<this.contentItems.length;e++)this.contentItems[e].size=o[e].size/s.totalSize*100}}}createSplitter(e){const t=new o.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize);return t.on("drag",((e,n)=>this.onSplitterDrag(t,e,n))),t.on("dragStop",(()=>this.onSplitterDragStop(t))),t.on("dragStart",(()=>this.onSplitterDragStart(t))),this._splitter.splice(e,0,t),t}getSplitItems(e){const t=this._splitter.indexOf(e);return{before:this.contentItems[t],after:this.contentItems[t+1]}}calculateContentItemMinSize(e){const t=e.minSize;if(void 0!==t){if(e.minSizeUnit===r.SizeUnitEnum.Pixel)return t;throw new s.AssertError("ROCGMD98831",JSON.stringify(e))}{const e=this.layoutManager.layoutConfig.dimensions;return this._isColumn?e.defaultMinItemHeight:e.defaultMinItemWidth}}calculateContentItemsTotalMinSize(e){let t=0;for(const n of e)t+=this.calculateContentItemMinSize(n);return t}onSplitterDragStart(e){const t=this.getSplitItems(e),n=(0,a.pixelsToNumber)(t.before.element.style[this._dimension]),i=(0,a.pixelsToNumber)(t.after.element.style[this._dimension]),o=this.calculateContentItemsTotalMinSize(t.before.contentItems),s=this.calculateContentItemsTotalMinSize(t.after.contentItems);this._splitterPosition=0,this._splitterMinPosition=-1*(n-o),this._splitterMaxPosition=i-s}onSplitterDrag(e,t,n){let i=this._isColumn?n:t;if(null===this._splitterMinPosition||null===this._splitterMaxPosition)throw new s.UnexpectedNullError("ROCOSD59226");i=Math.max(i,this._splitterMinPosition),i=Math.min(i,this._splitterMaxPosition),this._splitterPosition=i;const o=(0,a.numberToPixels)(i);this._isColumn?e.element.style.top=o:e.element.style.left=o}onSplitterDragStop(e){if(null===this._splitterPosition)throw new s.UnexpectedNullError("ROCOSDS66932");{const t=this.getSplitItems(e),n=(0,a.pixelsToNumber)(t.before.element.style[this._dimension]),i=(0,a.pixelsToNumber)(t.after.element.style[this._dimension]),o=(this._splitterPosition+n)/(n+i),s=t.before.size+t.after.size;t.before.size=o*s,t.after.size=(1-o)*s,e.element.style.top=(0,a.numberToPixels)(0),e.element.style.left=(0,a.numberToPixels)(0),globalThis.requestAnimationFrame((()=>this.updateSize(!1)))}}}t.RowOrColumn=d,function(e){e.getElementDimensionSize=function(e,t){return"width"===t?(0,a.getElementWidth)(e):(0,a.getElementHeight)(e)},e.setElementDimensionSize=function(e,t,n){return"width"===t?(0,a.setElementWidth)(e,n):(0,a.setElementHeight)(e,n)},e.createElement=function(e,t){const n=e.createElement("div");return n.classList.add("lm_item"),t?n.classList.add("lm_column"):n.classList.add("lm_row"),n}}(d=t.RowOrColumn||(t.RowOrColumn={}))},521:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentItem=void 0;const i=n(745),o=n(836),s=n(743),r=n(646),a=n(682),l=n(783);class d extends l.ContentItem{constructor(e,t,n){super(e,t,n,document.createElement("div")),this._parentItem=n,this._focused=!1,this.isComponent=!0,this._reorderEnabled=t.reorderEnabled,this.applyUpdatableConfig(t),this._initialWantMaximise=t.maximised;const i=document.createElement("div");i.classList.add("lm_content"),this.element.appendChild(i),this._container=new o.ComponentContainer(t,this,e,i,(e=>this.handleUpdateItemConfigEvent(e)),(()=>this.show()),(()=>this.hide()),(e=>this.focus(e)),(e=>this.blur(e)))}get componentName(){return this._container.componentType}get componentType(){return this._container.componentType}get reorderEnabled(){return this._reorderEnabled}get initialWantMaximise(){return this._initialWantMaximise}get component(){return this._container.component}get container(){return this._container}get parentItem(){return this._parentItem}get headerConfig(){return this._headerConfig}get title(){return this._title}get tab(){return this._tab}get focused(){return this._focused}destroy(){this._container.destroy(),super.destroy()}applyUpdatableConfig(e){this.setTitle(e.title),this._headerConfig=e.header}toConfig(){const e=this._container.stateRequestEvent,t=void 0===e?this._container.state:e();return{type:r.ItemType.component,content:[],size:this.size,sizeUnit:this.sizeUnit,minSize:this.minSize,minSizeUnit:this.minSizeUnit,id:this.id,maximised:!1,isClosable:this.isClosable,reorderEnabled:this._reorderEnabled,title:this._title,header:i.ResolvedHeaderedItemConfig.Header.createCopy(this._headerConfig),componentType:i.ResolvedComponentItemConfig.copyComponentType(this.componentType),componentState:t}}close(){if(null===this.parent)throw new s.UnexpectedNullError("CIC68883");this.parent.removeChild(this,!1)}enterDragMode(e,t){(0,a.setElementWidth)(this.element,e),(0,a.setElementHeight)(this.element,t),this._container.enterDragMode(e,t)}exitDragMode(){this._container.exitDragMode()}enterStackMaximised(){this._container.enterStackMaximised()}exitStackMaximised(){this._container.exitStackMaximised()}drag(){this._container.drag()}updateSize(e){this.updateNodeSize(e)}init(){this.updateNodeSize(!1),super.init(),this._container.emit("open"),this.initContentItems()}setTitle(e){this._title=e,this.emit("titleChanged",e),this.emit("stateChanged")}setTab(e){this._tab=e,this.emit("tab",e),this._container.setTab(e)}hide(){super.hide(),this._container.setVisibility(!1)}show(){super.show(),this._container.setVisibility(!0)}focus(e=!1){this.parentItem.setActiveComponentItem(this,!0,e)}setFocused(e){this._focused=!0,this.tab.setFocused(),e||this.emitBaseBubblingEvent("focus")}blur(e=!1){this._focused&&this.layoutManager.setFocusedComponentItem(void 0,e)}setBlurred(e){this._focused=!1,this.tab.setBlurred(),e||this.emitBaseBubblingEvent("blur")}setParent(e){this._parentItem=e,super.setParent(e)}handleUpdateItemConfigEvent(e){this.applyUpdatableConfig(e)}updateNodeSize(e){if("none"!==this.element.style.display){const{width:t,height:n}=(0,a.getElementWidthAndHeight)(this.element);this._container.setSizeToNodeSize(t,n,e)}}}t.ComponentItem=d},554:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=void 0;const i=n(876),o=n(745),s=n(164),r=n(743),a=n(744),l=n(646),d=n(682),h=n(521),c=n(132),u=n(783);class m extends c.ComponentParentableItem{constructor(e,t,n){var i,o,r,a,d,h,c,u,p,f,g,_,v,C,y,I,b,w,E;super(e,t,n,m.createElement(document)),this._headerSideChanged=!1,this._resizeListener=()=>this.handleResize(),this._maximisedListener=()=>this.handleMaximised(),this._minimisedListener=()=>this.handleMinimised(),this._headerConfig=t.header;const S=e.layoutConfig.header,x=t.content;let P;P=1!==x.length?void 0:x[0].header,this._initialWantMaximise=t.maximised,this._initialActiveItemIndex=null!==(i=t.activeItemIndex)&&void 0!==i?i:0;const z=null!==(a=null!==(r=null===(o=this._headerConfig)||void 0===o?void 0:o.show)&&void 0!==r?r:null==P?void 0:P.show)&&void 0!==a?a:S.show,L=null!==(c=null!==(h=null===(d=this._headerConfig)||void 0===d?void 0:d.popout)&&void 0!==h?h:null==P?void 0:P.popout)&&void 0!==c?c:S.popout,T=null!==(f=null!==(p=null===(u=this._headerConfig)||void 0===u?void 0:u.maximise)&&void 0!==p?p:null==P?void 0:P.maximise)&&void 0!==f?f:S.maximise,M=null!==(v=null!==(_=null===(g=this._headerConfig)||void 0===g?void 0:g.close)&&void 0!==_?_:null==P?void 0:P.close)&&void 0!==v?v:S.close,R=null!==(I=null!==(y=null===(C=this._headerConfig)||void 0===C?void 0:C.minimise)&&void 0!==y?y:null==P?void 0:P.minimise)&&void 0!==I?I:S.minimise,U=null!==(E=null!==(w=null===(b=this._headerConfig)||void 0===b?void 0:b.tabDropdown)&&void 0!==w?w:null==P?void 0:P.tabDropdown)&&void 0!==E?E:S.tabDropdown;this._maximisedEnabled=!1!==T;const A={show:!1!==z,side:!1===z?l.Side.top:z,popoutEnabled:!1!==L,popoutLabel:!1===L?"":L,maximiseEnabled:this._maximisedEnabled,maximiseLabel:!1===T?"":T,closeEnabled:!1!==M,closeLabel:!1===M?"":M,minimiseEnabled:!0,minimiseLabel:R,tabDropdownEnabled:!1!==U,tabDropdownLabel:!1===U?"":U};this._header=new s.Header(e,this,A,t.isClosable&&!1!==M,(()=>this.getActiveComponentItem()),(()=>this.remove()),(()=>this.handlePopoutEvent()),(()=>this.toggleMaximise()),(e=>this.handleHeaderClickEvent(e)),(e=>this.handleHeaderTouchStartEvent(e)),(e=>this.handleHeaderComponentRemoveEvent(e)),(e=>this.handleHeaderComponentFocusEvent(e)),((e,t,n,i)=>this.handleHeaderComponentStartDragEvent(e,t,n,i))),this.isStack=!0,this._childElementContainer=document.createElement("section"),this._childElementContainer.classList.add("lm_items"),this.on("resize",this._resizeListener),this._maximisedEnabled&&(this.on("maximised",this._maximisedListener),this.on("minimised",this._minimisedListener)),this.element.appendChild(this._header.element),this.element.appendChild(this._childElementContainer),this.setupHeaderPosition(),this._header.updateClosability()}get childElementContainer(){return this._childElementContainer}get header(){return this._header}get headerShow(){return this._header.show}get headerSide(){return this._header.side}get headerLeftRightSided(){return this._header.leftRightSided}get contentAreaDimensions(){return this._contentAreaDimensions}get initialWantMaximise(){return this._initialWantMaximise}get isMaximised(){return this===this.layoutManager.maximisedStack}get stackParent(){if(!this.parent)throw new Error("Stack should always have a parent");return this.parent}updateSize(e){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(e)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}init(){if(!0===this.isInitialised)return;this.updateNodeSize();for(let e=0;e<this.contentItems.length;e++)this._childElementContainer.appendChild(this.contentItems[e].element);super.init();const e=this.contentItems,t=e.length;if(t>0){if(this._initialActiveItemIndex<0||this._initialActiveItemIndex>=t)throw new Error(`ActiveItemIndex out of range: ${this._initialActiveItemIndex} id: ${this.id}`);for(let n=0;n<t;n++){const t=e[n];if(!(t instanceof h.ComponentItem))throw new Error(`Stack Content Item is not of type ComponentItem: ${n} id: ${this.id}`);this._header.createTab(t,n),t.hide(),t.container.setBaseLogicalZIndex()}this.setActiveComponentItem(e[this._initialActiveItemIndex],!1),this._header.updateTabSizes()}this._header.updateClosability(),this.initContentItems()}setActiveContentItem(e){if(!u.ContentItem.isComponentItem(e))throw new Error("Stack.setActiveContentItem: item is not a ComponentItem");this.setActiveComponentItem(e,!1)}setActiveComponentItem(e,t,n=!1){if(this._activeComponentItem!==e){if(-1===this.contentItems.indexOf(e))throw new Error("componentItem is not a child of this stack");this.layoutManager.beginSizeInvalidation();try{void 0!==this._activeComponentItem&&this._activeComponentItem.hide(),this._activeComponentItem=e,this._header.processActiveComponentChanged(e),e.show()}finally{this.layoutManager.endSizeInvalidation()}this.emit("activeContentItemChanged",e),this.layoutManager.emit("activeContentItemChanged",e),this.emitStateChangedEvent()}(this.focused||t)&&this.layoutManager.setFocusedComponentItem(e,n)}getActiveContentItem(){var e;return null!==(e=this.getActiveComponentItem())&&void 0!==e?e:null}getActiveComponentItem(){return this._activeComponentItem}focusActiveContentItem(){var e;null===(e=this._activeComponentItem)||void 0===e||e.focus()}setFocusedValue(e){this._header.applyFocusedValue(e),super.setFocusedValue(e)}setRowColumnClosable(e){this._header.setRowColumnClosable(e)}newComponent(e,t,n,i){const o={type:"component",componentType:e,componentState:t,title:n};return this.newItem(o,i)}addComponent(e,t,n,i){const o={type:"component",componentType:e,componentState:t,title:n};return this.addItem(o,i)}newItem(e,t){return t=this.addItem(e,t),this.contentItems[t]}addItem(e,t){this.layoutManager.checkMinimiseMaximisedStack();const n=i.ItemConfig.resolve(e,!1),o=this.layoutManager.createAndInitContentItem(n,this);return this.addChild(o,t)}addChild(e,t,n=!1){if(void 0!==t&&t>this.contentItems.length)throw t-=1,new r.AssertError("SAC99728");if(e instanceof h.ComponentItem)return t=super.addChild(e,t),this._childElementContainer.appendChild(e.element),this._header.createTab(e,t),this.setActiveComponentItem(e,n),this._header.updateTabSizes(),this.updateSize(!1),e.container.setBaseLogicalZIndex(),this._header.updateClosability(),this.emitStateChangedEvent(),t;throw new r.AssertError("SACC88532")}removeChild(e,t){const n=e,i=this.contentItems.indexOf(n),o=1===this.contentItems.length;if(this._activeComponentItem===n&&(n.focused&&n.blur(),!o)){const e=0===i?1:i-1;this.setActiveComponentItem(this.contentItems[e],!1)}this._header.removeTab(n),super.removeChild(n,t),o||this._header.updateClosability(),this.emitStateChangedEvent()}toggleMaximise(){this.isMaximised?this.minimise():this.maximise()}maximise(){if(!this.isMaximised){this.layoutManager.setMaximisedStack(this);const e=this.contentItems,t=e.length;for(let n=0;n<t;n++){const t=e[n];if(!(t instanceof h.ComponentItem))throw new r.AssertError("SMAXI87773");t.enterStackMaximised()}this.emitStateChangedEvent()}}minimise(){if(this.isMaximised){this.layoutManager.setMaximisedStack(void 0);const e=this.contentItems,t=e.length;for(let n=0;n<t;n++){const t=e[n];if(!(t instanceof h.ComponentItem))throw new r.AssertError("SMINI87773");t.exitStackMaximised()}this.emitStateChangedEvent()}}destroy(){var e;(null===(e=this._activeComponentItem)||void 0===e?void 0:e.focused)&&this._activeComponentItem.blur(),super.destroy(),this.off("resize",this._resizeListener),this._maximisedEnabled&&(this.off("maximised",this._maximisedListener),this.off("minimised",this._minimisedListener)),this._header.destroy()}toConfig(){let e;if(this._activeComponentItem&&(e=this.contentItems.indexOf(this._activeComponentItem),e<0))throw new Error("active component item not found in stack");if(this.contentItems.length>0&&void 0===e)throw new Error("expected non-empty stack to have an active component item");return{type:"stack",content:this.calculateConfigContent(),size:this.size,sizeUnit:this.sizeUnit,minSize:this.minSize,minSizeUnit:this.minSizeUnit,id:this.id,isClosable:this.isClosable,maximised:this.isMaximised,header:this.createHeaderConfig(),activeItemIndex:e}}onDrop(e,t){if("header"===this._dropSegment){if(this.resetHeaderDropZone(),void 0===this._dropIndex)throw new r.UnexpectedUndefinedError("SODDI68990");return void this.addChild(e,this._dropIndex)}if("body"===this._dropSegment)return void this.addChild(e,0,!0);const n="top"===this._dropSegment||"bottom"===this._dropSegment,i="left"===this._dropSegment||"right"===this._dropSegment,s="top"===this._dropSegment||"left"===this._dropSegment,a=n&&this.stackParent.isColumn||i&&this.stackParent.isRow;if(e.isComponent){const t=o.ResolvedStackItemConfig.createDefault();t.header=this.createHeaderConfig();const n=this.layoutManager.createAndInitContentItem(t,this);n.addChild(e),e=n}if(e.type===l.ItemType.row||e.type===l.ItemType.column){const t=o.ResolvedStackItemConfig.createDefault();t.header=this.createHeaderConfig();const n=this.layoutManager.createContentItem(t,this);n.addChild(e),e=n}if(a){const t=this.stackParent.contentItems.indexOf(this);this.stackParent.addChild(e,s?t:t+1,!0),this.size*=.5,e.size=this.size,e.sizeUnit=this.sizeUnit,this.stackParent.updateSize(!1)}else{const t=n?l.ItemType.column:l.ItemType.row,i=o.ResolvedItemConfig.createDefault(t),r=this.layoutManager.createContentItem(i,this);this.stackParent.replaceChild(this,r),r.addChild(e,s?0:void 0,!0),r.addChild(this,s?void 0:0,!0),this.size=50,e.size=50,e.sizeUnit=l.SizeUnitEnum.Percent,r.updateSize(!1)}}highlightDropZone(e,t){for(const n in this._contentAreaDimensions){const i=n,o=this._contentAreaDimensions[i].hoverArea;if(o.x1<e&&o.x2>e&&o.y1<t&&o.y2>t)return void("header"===i?(this._dropSegment="header",this.highlightHeaderDropZone(this._header.leftRightSided?t:e)):(this.resetHeaderDropZone(),this.highlightBodyDropZone(i)))}}getArea(){if("none"===this.element.style.display)return null;const e=super.getElementArea(this._header.element),t=super.getElementArea(this._childElementContainer);if(null===e||null===t)throw new r.UnexpectedNullError("SGAHC13086");const n=t.x2-t.x1,i=t.y2-t.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}},0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},highlightArea:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}},super.getElementArea(this.element)):(this._contentAreaDimensions.left={hoverArea:{x1:t.x1,y1:t.y1,x2:t.x1+.25*n,y2:t.y2},highlightArea:{x1:t.x1,y1:t.y1,x2:t.x1+.5*n,y2:t.y2}},this._contentAreaDimensions.top={hoverArea:{x1:t.x1+.25*n,y1:t.y1,x2:t.x1+.75*n,y2:t.y1+.5*i},highlightArea:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y1+.5*i}},this._contentAreaDimensions.right={hoverArea:{x1:t.x1+.75*n,y1:t.y1,x2:t.x2,y2:t.y2},highlightArea:{x1:t.x1+.5*n,y1:t.y1,x2:t.x2,y2:t.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:t.x1+.25*n,y1:t.y1+.5*i,x2:t.x1+.75*n,y2:t.y2},highlightArea:{x1:t.x1,y1:t.y1+.5*i,x2:t.x2,y2:t.y2}},super.getElementArea(this.element))}positionHeader(e){this._header.side!==e&&(this._header.setSide(e),this._headerSideChanged=!0,this.setupHeaderPosition())}updateNodeSize(){if("none"!==this.element.style.display){const e=(0,d.getElementWidthAndHeight)(this.element);this._header.show&&(e[this._header.leftRightSided?l.WidthOrHeightPropertyName.width:l.WidthOrHeightPropertyName.height]-=this.layoutManager.layoutConfig.dimensions.headerHeight),this._childElementContainer.style.width=(0,d.numberToPixels)(e.width),this._childElementContainer.style.height=(0,d.numberToPixels)(e.height);for(let t=0;t<this.contentItems.length;t++)this.contentItems[t].element.style.width=(0,d.numberToPixels)(e.width),this.contentItems[t].element.style.height=(0,d.numberToPixels)(e.height);this.emit("resize"),this.emitStateChangedEvent()}}highlightHeaderDropZone(e){const t=this._header.lastVisibleTabIndex+1,n=this._header.tabsContainerElement.childNodes,i=new Array(t);let o=0,s=0;for(;s<t;){const e=n[o++];e!==this.layoutManager.tabDropPlaceholder&&(i[s++]=e)}const a=this.layoutManager.dropTargetIndicator;if(null===a)throw new r.UnexpectedNullError("SHHDZDTI97110");let l;if(0===t){const e=this._header.element.getBoundingClientRect(),t=e.top+document.body.scrollTop,n=e.left+document.body.scrollLeft;l={x1:n,x2:n+100,y1:t+e.height-20,y2:t+e.height},this._dropIndex=0}else{let n,o,s,r,a=0,d=!1;do{r=i[a];const t=r.getBoundingClientRect(),l=t.top+document.body.scrollTop,h=t.left+document.body.scrollLeft;this._header.leftRightSided?(o=l,n=h,s=t.height):(o=h,n=l,s=t.width),e>=o&&e<o+s?d=!0:a++}while(a<t&&!d);if(!1===d&&e<o)return;e<o+s/2?(this._dropIndex=a,r.insertAdjacentElement("beforebegin",this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(a+1,t),r.insertAdjacentElement("afterend",this.layoutManager.tabDropPlaceholder));const h=this.layoutManager.tabDropPlaceholder.getBoundingClientRect(),c=h.top+document.body.scrollTop,u=h.left+document.body.scrollLeft,m=h.width;if(this._header.leftRightSided){const e=c;l={x1:n,x2:n+r.clientHeight,y1:e,y2:e+m}}else l={x1:u,x2:u+m,y1:n,y2:n+r.clientHeight}}a.highlightArea(l,0)}resetHeaderDropZone(){this.layoutManager.tabDropPlaceholder.remove()}setupHeaderPosition(){(0,d.setElementDisplayVisibility)(this._header.element,this._header.show),this.element.classList.remove("lm_left","lm_right","lm_bottom"),this._header.leftRightSided&&this.element.classList.add("lm_"+this._header.side),this.updateSize(!1)}highlightBodyDropZone(e){if(void 0===this._contentAreaDimensions)throw new r.UnexpectedUndefinedError("SHBDZC82265");{const t=this._contentAreaDimensions[e].highlightArea,n=this.layoutManager.dropTargetIndicator;if(null===n)throw new r.UnexpectedNullError("SHBDZD96110");n.highlightArea(t,1),this._dropSegment=e}}handleResize(){this._header.updateTabSizes()}handleMaximised(){this._header.processMaximised()}handleMinimised(){this._header.processMinimised()}handlePopoutEvent(){this.popout()}handleHeaderClickEvent(e){const t=a.EventEmitter.headerClickEventName,n=new a.EventEmitter.ClickBubblingEvent(t,this,e);this.emit(t,n)}handleHeaderTouchStartEvent(e){const t=a.EventEmitter.headerTouchStartEventName,n=new a.EventEmitter.TouchStartBubblingEvent(t,this,e);this.emit(t,n)}handleHeaderComponentRemoveEvent(e){this.removeChild(e,!1)}handleHeaderComponentFocusEvent(e){this.setActiveComponentItem(e,!0)}handleHeaderComponentStartDragEvent(e,t,n,i){!0===this.isMaximised&&this.toggleMaximise(),this.layoutManager.startComponentDrag(e,t,n,i,this)}createHeaderConfig(){if(this._headerSideChanged){const e=!!this._header.show&&this._header.side;let t=o.ResolvedHeaderedItemConfig.Header.createCopy(this._headerConfig,e);return void 0===t&&(t={show:e,popout:void 0,maximise:void 0,close:void 0,minimise:void 0,tabDropdown:void 0}),t}return o.ResolvedHeaderedItemConfig.Header.createCopy(this._headerConfig)}emitStateChangedEvent(){this.emitBaseBubblingEvent("stateChanged")}}t.Stack=m,function(e){e.createElement=function(e){const t=e.createElement("div");return t.classList.add("lm_item"),t.classList.add("lm_stack"),t}}(m=t.Stack||(t.Stack={}))},565:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventHub=void 0;const i=n(743),o=n(744);class s extends o.EventEmitter{constructor(e){super(),this._layoutManager=e,this._childEventListener=e=>this.onEventFromChild(e),globalThis.addEventListener(s.ChildEventName,this._childEventListener,{passive:!0})}emit(e,...t){"userBroadcast"===e?this.emitUserBroadcast(...t):super.emit(e,...t)}emitUserBroadcast(...e){this.handleUserBroadcastEvent("userBroadcast",e)}destroy(){globalThis.removeEventListener(s.ChildEventName,this._childEventListener)}handleUserBroadcastEvent(e,t){this._layoutManager.isSubWindow?this.propagateToParent(e,t):this.propagateToThisAndSubtree(e,t)}onEventFromChild(e){const t=e.detail;this.handleUserBroadcastEvent(t.eventName,t.args)}propagateToParent(e,t){const n={bubbles:!0,cancelable:!0,detail:{layoutManager:this._layoutManager,eventName:e,args:t}},o=new CustomEvent(s.ChildEventName,n),r=globalThis.opener;if(null===r)throw new i.UnexpectedNullError("EHPTP15778");r.dispatchEvent(o)}propagateToThisAndSubtree(e,t){this.emitUnknown(e,...t);for(let n=0;n<this._layoutManager.openPopouts.length;n++){const i=this._layoutManager.openPopouts[n].getGlInstance();i&&i.eventHub.propagateToThisAndSubtree(e,t)}}}t.EventHub=s,function(e){e.ChildEventName="gl_child_event"}(s=t.EventHub||(t.EventHub={}))},635:(e,t,n)=>{n.r(t),n.d(t,{__addDisposableResource:()=>D,__assign:()=>s,__asyncDelegator:()=>S,__asyncGenerator:()=>E,__asyncValues:()=>x,__await:()=>w,__awaiter:()=>p,__classPrivateFieldGet:()=>R,__classPrivateFieldIn:()=>A,__classPrivateFieldSet:()=>U,__createBinding:()=>g,__decorate:()=>a,__disposeResources:()=>O,__esDecorate:()=>d,__exportStar:()=>_,__extends:()=>o,__generator:()=>f,__importDefault:()=>M,__importStar:()=>T,__makeTemplateObject:()=>P,__metadata:()=>m,__param:()=>l,__propKey:()=>c,__read:()=>C,__rest:()=>r,__rewriteRelativeImportExtension:()=>H,__runInitializers:()=>h,__setFunctionName:()=>u,__spread:()=>y,__spreadArray:()=>b,__spreadArrays:()=>I,__values:()=>v,default:()=>W});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};function r(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}function a(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r}function l(e,t){return function(n,i){t(n,i,e)}}function d(e,t,n,i,o,s){function r(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,l=i.kind,d="getter"===l?"get":"setter"===l?"set":"value",h=!t&&e?i.static?e:e.prototype:null,c=t||(h?Object.getOwnPropertyDescriptor(h,i.name):{}),u=!1,m=n.length-1;m>=0;m--){var p={};for(var f in i)p[f]="access"===f?{}:i[f];for(var f in i.access)p.access[f]=i.access[f];p.addInitializer=function(e){if(u)throw new TypeError("Cannot add initializers after decoration has completed");s.push(r(e||null))};var g=(0,n[m])("accessor"===l?{get:c.get,set:c.set}:c[d],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=r(g.get))&&(c.get=a),(a=r(g.set))&&(c.set=a),(a=r(g.init))&&o.unshift(a)}else(a=r(g))&&("field"===l?o.unshift(a):c[d]=a)}h&&Object.defineProperty(h,i.name,c),u=!0}function h(e,t,n){for(var i=arguments.length>2,o=0;o<t.length;o++)n=i?t[o].call(e,n):t[o].call(e);return i?n:void 0}function c(e){return"symbol"==typeof e?e:"".concat(e)}function u(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function m(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))}function f(e,t){var n,i,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},r=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return r.next=a(0),r.throw=a(1),r.return=a(2),"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}var g=Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};function _(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||g(t,e,n)}function v(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function C(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,s=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)r.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return r}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(C(arguments[t]));return e}function I(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var s=arguments[t],r=0,a=s.length;r<a;r++,o++)i[o]=s[r];return i}function b(e,t,n){if(n||2===arguments.length)for(var i,o=0,s=t.length;o<s;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function E(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(e,t||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),r("next"),r("throw"),r("return",(function(e){return function(t){return Promise.resolve(t).then(e,d)}})),i[Symbol.asyncIterator]=function(){return this},i;function r(e,t){o[e]&&(i[e]=function(t){return new Promise((function(n,i){s.push([e,t,n,i])>1||a(e,t)}))},t&&(i[e]=t(i[e])))}function a(e,t){try{(n=o[e](t)).value instanceof w?Promise.resolve(n.value.v).then(l,d):h(s[0][2],n)}catch(e){h(s[0][3],e)}var n}function l(e){a("next",e)}function d(e){a("throw",e)}function h(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function S(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,o){t[i]=e[i]?function(t){return(n=!n)?{value:w(e[i](t)),done:!1}:o?o(t):t}:o}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=v(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,o){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,o,(t=e[n](t)).done,t.value)}))}}}function P(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var z=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},L=function(e){return L=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},L(e)};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=L(e),i=0;i<n.length;i++)"default"!==n[i]&&g(t,e,n[i]);return z(t,e),t}function M(e){return e&&e.__esModule?e:{default:e}}function R(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function U(e,t,n,i,o){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(e,n):o?o.value=n:t.set(e,n),n}function A(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function D(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var i,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],n&&(o=i)}if("function"!=typeof i)throw new TypeError("Object not disposable.");o&&(i=function(){try{o.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:i,async:n})}else n&&e.stack.push({async:!0});return t}var k="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var i=new Error(n);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function O(e){function t(t){e.error=e.hasError?new k(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,i=0;return function o(){for(;n=e.stack.pop();)try{if(!n.async&&1===i)return i=0,e.stack.push(n),Promise.resolve().then(o);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(o,(function(e){return t(e),o()}))}else i|=1}catch(e){t(e)}if(1===i)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function H(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,n,i,o,s){return n?t?".jsx":".js":!i||o&&s?i+o+"."+s.toLowerCase()+"js":e})):e}const W={__extends:o,__assign:s,__rest:r,__decorate:a,__param:l,__esDecorate:d,__runInitializers:h,__propKey:c,__setFunctionName:u,__metadata:m,__awaiter:p,__generator:f,__createBinding:g,__exportStar:_,__values:v,__read:C,__spread:y,__spreadArrays:I,__spreadArray:b,__await:w,__asyncGenerator:E,__asyncDelegator:S,__asyncValues:x,__makeTemplateObject:P,__importStar:T,__importDefault:M,__classPrivateFieldGet:R,__classPrivateFieldSet:U,__classPrivateFieldIn:A,__addDisposableResource:D,__disposeResources:O,__rewriteRelativeImportExtension:H}},646:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SizeUnitEnum=t.ResponsiveMode=t.ItemType=t.JsonValue=t.LogicalZIndexToDefaultMap=t.LogicalZIndex=t.Side=t.WidthOrHeightPropertyName=void 0;const i=n(743),o=n(650);var s,r,a,l,d,h;(h=t.WidthOrHeightPropertyName||(t.WidthOrHeightPropertyName={})).width="width",h.height="height",(d=t.Side||(t.Side={})).top="top",d.left="left",d.right="right",d.bottom="bottom",(l=t.LogicalZIndex||(t.LogicalZIndex={})).base="base",l.drag="drag",l.stackMaximised="stackMaximised",t.LogicalZIndexToDefaultMap={base:o.StyleConstants.defaultComponentBaseZIndex,drag:o.StyleConstants.defaultComponentDragZIndex,stackMaximised:o.StyleConstants.defaultComponentStackMaximisedZIndex},function(e){function t(e){return!Array.isArray(e)&&null!==e&&"object"==typeof e}e.isJson=function(e){return t(e)},e.isJsonObject=t}(t.JsonValue||(t.JsonValue={})),(a=t.ItemType||(t.ItemType={})).ground="ground",a.row="row",a.column="column",a.stack="stack",a.component="component",(r=t.ResponsiveMode||(t.ResponsiveMode={})).none="none",r.always="always",r.onload="onload",(s=t.SizeUnitEnum||(t.SizeUnitEnum={})).Pixel="px",s.Percent="%",s.Fractional="fr",s.Em="em",function(e){e.tryParse=function(t){switch(t){case e.Pixel:return e.Pixel;case e.Percent:return e.Percent;case e.Fractional:return e.Fractional;case e.Em:return e.Em;default:return}},e.format=function(t){switch(t){case e.Pixel:return e.Pixel;case e.Percent:return e.Percent;case e.Fractional:return e.Fractional;case e.Em:return e.Em;default:throw new i.UnreachableCaseError("SUEF44998",t)}}}(t.SizeUnitEnum||(t.SizeUnitEnum={}))},650:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.StyleConstants=void 0,(n=t.StyleConstants||(t.StyleConstants={})).defaultComponentBaseZIndex="auto",n.defaultComponentDragZIndex="32",n.defaultComponentStackMaximisedZIndex="41"},663:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GroundItem=void 0;const i=n(876),o=n(745),s=n(743),r=n(646),a=n(682),l=n(521),d=n(132),h=n(783),c=n(445);class u extends d.ComponentParentableItem{constructor(e,t,n){super(e,o.ResolvedGroundItemConfig.create(t),null,u.createElement(document)),this.isGround=!0,this._childElementContainer=this.element,this._containerElement=n;let i=null;for(;;){const e=i?i.previousSibling:this._containerElement.lastChild;if(!(e instanceof Element&&e.classList.contains("lm_content")))break;i=e}this._containerElement.insertBefore(this.element,i)}init(){if(!0!==this.isInitialised){this.updateNodeSize();for(let e=0;e<this.contentItems.length;e++)this._childElementContainer.appendChild(this.contentItems[e].element);super.init(),this.initContentItems()}}loadRoot(e){if(this.clearRoot(),void 0!==e){const t=this.layoutManager.createAndInitContentItem(e,this);this.addChild(t,0)}}clearRoot(){const e=this.contentItems;switch(e.length){case 0:return;case 1:return void e[0].remove();default:throw new s.AssertError("GILR07721")}}addItem(e,t){this.layoutManager.checkMinimiseMaximisedStack();const n=i.ItemConfig.resolve(e,!1);let o;if(o=this.contentItems.length>0?this.contentItems[0]:this,o.isComponent)throw new Error("Cannot add item as child to ComponentItem");{const e=this.layoutManager.createAndInitContentItem(n,o);return t=o.addChild(e,t),o===this?-1:t}}loadComponentAsRoot(e){this.clearRoot();const t=i.ItemConfig.resolve(e,!1);if(t.maximised)throw new Error("Root Component cannot be maximised");{const e=new l.ComponentItem(this.layoutManager,t,this);e.init(),this.addChild(e,0)}}addChild(e,t){if(this.contentItems.length>0)throw new Error("Ground node can only have a single child");return this._childElementContainer.appendChild(e.element),t=super.addChild(e,t),this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged"),t}calculateConfigContent(){const e=this.contentItems,t=e.length,n=new Array(t);for(let i=0;i<t;i++){const t=e[i].toConfig();if(!o.ResolvedRootItemConfig.isRootItemConfig(t))throw new s.AssertError("RCCC66832");n[i]=t}return n}setSize(e,t){void 0===e||void 0===t?this.updateSize(!1):((0,a.setElementWidth)(this.element,e),(0,a.setElementHeight)(this.element,t),this.contentItems.length>0&&((0,a.setElementWidth)(this.contentItems[0].element,e),(0,a.setElementHeight)(this.contentItems[0].element,t)),this.updateContentItemsSize(!1))}updateSize(e){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(e)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}createSideAreas(){const e=u.Area.oppositeSides,t=new Array(Object.keys(e).length);let n=0;for(const i in e){const o=i,r=this.getElementArea();if(null===r)throw new s.UnexpectedNullError("RCSA77553");r.side=o,"2"===e[o][1]?r[o]=r[e[o]]-50:r[o]=r[e[o]]+50,r.surface=(r.x2-r.x1)*(r.y2-r.y1),t[n++]=r}return t}highlightDropZone(e,t,n){this.layoutManager.tabDropPlaceholder.remove(),super.highlightDropZone(e,t,n)}onDrop(e,t){if(e.isComponent){const t=o.ResolvedStackItemConfig.createDefault(),n=e;t.header=o.ResolvedHeaderedItemConfig.Header.createCopy(n.headerConfig);const i=this.layoutManager.createAndInitContentItem(t,this);i.addChild(e),e=i}if(0===this.contentItems.length)this.addChild(e);else{if(e.type===r.ItemType.row||e.type===r.ItemType.column){const t=o.ResolvedStackItemConfig.createDefault(),n=this.layoutManager.createContentItem(t,this);n.addChild(e),e=n}const n="x"==t.side[0]?r.ItemType.row:r.ItemType.column,i="2"==t.side[1],s=this.contentItems[0];if(s instanceof c.RowOrColumn&&s.type===n){const t=s.contentItems[i?0:s.contentItems.length-1];s.addChild(e,i?0:void 0,!0),t.size*=.5,e.size=t.size,e.sizeUnit=r.SizeUnitEnum.Percent,s.updateSize(!1)}else{const t=o.ResolvedItemConfig.createDefault(n),a=this.layoutManager.createContentItem(t,this);this.replaceChild(s,a),a.addChild(e,i?0:void 0,!0),a.addChild(s,i?void 0:0,!0),s.size=50,e.size=50,e.sizeUnit=r.SizeUnitEnum.Percent,a.updateSize(!1)}}}dock(){throw new s.AssertError("GID87731")}validateDocking(){throw new s.AssertError("GIVD87732")}getAllContentItems(){const e=[this];return this.deepGetAllContentItems(this.contentItems,e),e}getConfigMaximisedItems(){const e=[];return this.deepFilterContentItems(this.contentItems,e,(e=>!(!h.ContentItem.isStack(e)||!e.initialWantMaximise)||!(!h.ContentItem.isComponentItem(e)||!e.initialWantMaximise))),e}getItemsByPopInParentId(e){const t=[];return this.deepFilterContentItems(this.contentItems,t,(t=>t.popInParentIds.includes(e))),t}toConfig(){throw new Error("Cannot generate GroundItem config")}setActiveComponentItem(e,t,n){}updateNodeSize(){const{width:e,height:t}=(0,a.getElementWidthAndHeight)(this._containerElement);(0,a.setElementWidth)(this.element,e),(0,a.setElementHeight)(this.element,t),this.contentItems.length>0&&((0,a.setElementWidth)(this.contentItems[0].element,e),(0,a.setElementHeight)(this.contentItems[0].element,t))}deepGetAllContentItems(e,t){for(let n=0;n<e.length;n++){const i=e[n];t.push(i),this.deepGetAllContentItems(i.contentItems,t)}}deepFilterContentItems(e,t,n){for(let i=0;i<e.length;i++){const o=e[i];n(o)&&t.push(o),this.deepFilterContentItems(o.contentItems,t,n)}}}t.GroundItem=u,function(e){let t;!function(e){e.oppositeSides={y2:"y1",x2:"x1",y1:"y2",x1:"x2"}}(t=e.Area||(e.Area={})),e.createElement=function(e){const t=e.createElement("div");return t.classList.add("lm_goldenlayout"),t.classList.add("lm_item"),t.classList.add("lm_root"),t}}(u=t.GroundItem||(t.GroundItem={}))},667:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigMinifier=void 0,function(e){const t=["settings","hasHeaders","constrainDragToContainer","selectionEnabled","dimensions","borderWidth","minItemHeight","minItemWidth","headerHeight","dragProxyWidth","dragProxyHeight","labels","close","maximise","minimise","popout","content","componentType","componentState","id","width","type","height","isClosable","title","popoutWholeStack","openPopouts","parentId","activeItemIndex","reorderEnabled","borderGrabWidth"],n=[!0,!1,"row","column","stack","component","close","maximise","minimise","open in new window"];function i(e,t){const n={};for(const i in e)if(e.hasOwnProperty(i)){let a;a=t?s(i):r(i);const l=e[i];n[a]=o(l,t)}return n}function o(e,t){return"object"==typeof e?null===e?null:Array.isArray(e)?function(e,t){const n=e.length,i=new Array(n);for(let s=0;s<n;s++){const n=e[s];i[s]=o(n,t)}return i}(e,t):i(e,t):t?function(e){if("string"==typeof e&&1===e.length)return"___"+e;const t=function(e){for(let t=0;t<n.length;t++)if(n[t]===e)return t;return-1}(e);return-1===t?e:t.toString(36)}(e):"string"==typeof(s=e)&&1===s.length?n[parseInt(s,36)]:"string"==typeof s&&"___"===s.substr(0,3)?s[3]:s;var s}function s(e){if("string"==typeof e&&1===e.length)return"___"+e;const n=function(e){for(let n=0;n<t.length;n++)if(t[n]===e)return n;return-1}(e);return-1===n?e:n.toString(36)}function r(e){return 1===e.length?t[parseInt(e,36)]:"___"===e.substr(0,3)?e[3]:e}e.checkInitialise=function(){if(t.length>36)throw new Error("Too many keys in config minifier map")},e.translateObject=i}(t.ConfigMinifier||(t.ConfigMinifier={}))},677:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BindError=t.ApiError=t.PopoutBlockedError=t.ConfigurationError=t.ExternalError=void 0;class n extends Error{constructor(e,t){super(t),this.type=e}}t.ExternalError=n,t.ConfigurationError=class extends n{constructor(e,t){super("Configuration",e),this.node=t}},t.PopoutBlockedError=class extends n{constructor(e){super("PopoutBlocked",e)}},t.ApiError=class extends n{constructor(e){super("API",e)}},t.BindError=class extends n{constructor(e){super("Bind",e)}}},682:(e,t)=>{function n(e){return e.toString(10)+"px"}function i(e){return e>="0"&&e<="9"}function o(e,t){if(void 0!==t)for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],o=e[n];e[n]=s(o,i)}return e}function s(e,t){if("object"!=typeof t)return t;if(Array.isArray(t)){const e=t.length,n=new Array(e);for(let i=0;i<e;i++){const e=t[i];n[i]=s({},e)}return n}if(null===t)return null;{const n=t;return void 0===e||("object"!=typeof e||Array.isArray(e))?o({},n):o(null===e?{}:e,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorMessage=t.getUniqueId=t.removeFromArray=t.deepExtendValue=t.deepExtend=t.extend=t.ensureElementPositionAbsolute=t.setElementDisplayVisibility=t.getElementWidthAndHeight=t.setElementHeight=t.getElementHeight=t.setElementWidth=t.getElementWidth=t.isDigit=t.splitStringAtFirstNonNumericChar=t.pixelsToNumber=t.numberToPixels=void 0,t.numberToPixels=n,t.pixelsToNumber=function(e){const t=e.replace("px","");return parseFloat(t)},t.splitStringAtFirstNonNumericChar=function(e){const t=(e=e.trimStart()).length;if(0===t)return{numericPart:"",firstNonNumericCharPart:""};{let n=t,o=!1;for(let s=0;s<t;s++){const t=e[s];if(!i(t)){if("."!==t){n=s;break}if(o){n=s;break}o=!0}}return{numericPart:e.substring(0,n),firstNonNumericCharPart:e.substring(n).trim()}}},t.isDigit=i,t.getElementWidth=function(e){return e.offsetWidth},t.setElementWidth=function(e,t){const i=n(t);e.style.width=i},t.getElementHeight=function(e){return e.offsetHeight},t.setElementHeight=function(e,t){const i=n(t);e.style.height=i},t.getElementWidthAndHeight=function(e){return{width:e.offsetWidth,height:e.offsetHeight}},t.setElementDisplayVisibility=function(e,t){e.style.display=t?"":"none"},t.ensureElementPositionAbsolute=function(e){const t="absolute";e.style.position!==t&&(e.style.position=t)},t.extend=function(e,t){for(const n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.deepExtend=o,t.deepExtendValue=s,t.removeFromArray=function(e,t){const n=t.indexOf(e);if(-1===n)throw new Error("Can't remove item from array. Item is not in the array");t.splice(n,1)},t.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(".","")},t.getErrorMessage=function(e){return e instanceof Error?e.message:"string"==typeof e?e:"Unknown Error"}},743:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnexpectedUndefinedError=t.UnexpectedNullError=t.UnreachableCaseError=t.AssertError=void 0;class n extends Error{constructor(e,t,n){super(`${e}: ${t}${void 0===n?"":": "+n}`)}}t.AssertError=class extends n{constructor(e,t){super("Assert",e,t)}},t.UnreachableCaseError=class extends n{constructor(e,t,n){super("UnreachableCase",e,`${t}${void 0===n?"":": "+n}`)}},t.UnexpectedNullError=class extends n{constructor(e,t){super("UnexpectedNull",e,t)}},t.UnexpectedUndefinedError=class extends n{constructor(e,t){super("UnexpectedUndefined",e,t)}}},744:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;class n{constructor(){this._allEventSubscriptions=[],this._subscriptionsMap=new Map,this.unbind=this.removeEventListener,this.trigger=this.emit}tryBubbleEvent(e,t){}emit(e,...t){let n=this._subscriptionsMap.get(e);if(void 0!==n){n=n.slice();for(let e=0;e<n.length;e++)(0,n[e])(...t)}this.emitAllEvent(e,t),this.tryBubbleEvent(e,t)}emitUnknown(e,...t){let n=this._subscriptionsMap.get(e);if(void 0!==n){n=n.slice();for(let e=0;e<n.length;e++)n[e](...t)}this.emitAllEvent(e,t),this.tryBubbleEvent(e,t)}emitBaseBubblingEvent(e){const t=new n.BubblingEvent(e,this);this.emitUnknown(e,t)}emitUnknownBubblingEvent(e){const t=new n.BubblingEvent(e,this);this.emitUnknown(e,t)}removeEventListener(e,t){const n=t;this.removeUnknownEventListener(e,n)}off(e,t){this.removeEventListener(e,t)}addEventListener(e,t){const n=t;this.addUnknownEventListener(e,n)}on(e,t){this.addEventListener(e,t)}addUnknownEventListener(e,t){if(e===n.ALL_EVENT)this._allEventSubscriptions.push(t);else{let n=this._subscriptionsMap.get(e);void 0!==n?n.push(t):(n=[t],this._subscriptionsMap.set(e,n))}}removeUnknownEventListener(e,t){if(e===n.ALL_EVENT)this.removeSubscription(e,this._allEventSubscriptions,t);else{const n=this._subscriptionsMap.get(e);if(void 0===n)throw new Error("No subscribtions to unsubscribe for event "+e);this.removeSubscription(e,n,t)}}removeSubscription(e,t,n){const i=t.indexOf(n);if(i<0)throw new Error("Nothing to unbind for "+e);t.splice(i,1)}emitAllEvent(e,t){const n=this._allEventSubscriptions.length;if(n>0){const i=t.slice();i.unshift(e);const o=this._allEventSubscriptions.slice();for(let e=0;e<n;e++)o[e](...i)}}}t.EventEmitter=n,function(e){e.ALL_EVENT="__all",e.headerClickEventName="stackHeaderClick",e.headerTouchStartEventName="stackHeaderTouchStart";class t{constructor(e,t){this._name=e,this._target=t,this._isPropagationStopped=!1}get name(){return this._name}get target(){return this._target}get origin(){return this._target}get isPropagationStopped(){return this._isPropagationStopped}stopPropagation(){this._isPropagationStopped=!0}}e.BubblingEvent=t,e.ClickBubblingEvent=class extends t{constructor(e,t,n){super(e,t),this._mouseEvent=n}get mouseEvent(){return this._mouseEvent}},e.TouchStartBubblingEvent=class extends t{constructor(e,t,n){super(e,t),this._touchEvent=n}get touchEvent(){return this._touchEvent}}}(n=t.EventEmitter||(t.EventEmitter={}))},745:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvedPopoutLayoutConfig=t.ResolvedLayoutConfig=t.ResolvedGroundItemConfig=t.ResolvedRootItemConfig=t.ResolvedRowOrColumnItemConfig=t.ResolvedComponentItemConfig=t.ResolvedStackItemConfig=t.ResolvedHeaderedItemConfig=t.ResolvedItemConfig=void 0;const i=n(743),o=n(667),s=n(646),r=n(682);var a,l,d,h,c,u,m,p;!function(e){e.defaults={type:s.ItemType.ground,content:[],size:1,sizeUnit:s.SizeUnitEnum.Fractional,minSize:void 0,minSizeUnit:s.SizeUnitEnum.Pixel,id:"",isClosable:!0},e.createCopy=function(e,t){switch(e.type){case s.ItemType.ground:case s.ItemType.row:case s.ItemType.column:return c.createCopy(e,t);case s.ItemType.stack:return d.createCopy(e,t);case s.ItemType.component:return h.createCopy(e);default:throw new i.UnreachableCaseError("CICC91354",e.type,"Invalid Config Item type specified")}},e.createDefault=function(e){switch(e){case s.ItemType.ground:throw new i.AssertError("CICCDR91562");case s.ItemType.row:case s.ItemType.column:return c.createDefault(e);case s.ItemType.stack:return d.createDefault();case s.ItemType.component:return h.createDefault();default:throw new i.UnreachableCaseError("CICCDD91563",e,"Invalid Config Item type specified")}},e.isComponentItem=function(e){return e.type===s.ItemType.component},e.isStackItem=function(e){return e.type===s.ItemType.stack},e.isGroundItem=function(e){return e.type===s.ItemType.ground}}(a=t.ResolvedItemConfig||(t.ResolvedItemConfig={})),function(e){let t;e.defaultMaximised=!1,function(e){e.createCopy=function(e,t){return void 0===e?void 0:{show:null!=t?t:e.show,popout:e.popout,close:e.close,maximise:e.maximise,minimise:e.minimise,tabDropdown:e.tabDropdown}}}(t=e.Header||(e.Header={}))}(l=t.ResolvedHeaderedItemConfig||(t.ResolvedHeaderedItemConfig={})),function(e){function t(e){const t=e.length,n=new Array(t);for(let i=0;i<t;i++)n[i]=a.createCopy(e[i]);return n}e.defaultActiveItemIndex=0,e.createCopy=function(e,n){return{type:e.type,content:t(void 0!==n?n:e.content),size:e.size,sizeUnit:e.sizeUnit,minSize:e.minSize,minSizeUnit:e.minSizeUnit,id:e.id,maximised:e.maximised,isClosable:e.isClosable,activeItemIndex:e.activeItemIndex,header:l.Header.createCopy(e.header)}},e.copyContent=t,e.createDefault=function(){return{type:s.ItemType.stack,content:[],size:a.defaults.size,sizeUnit:a.defaults.sizeUnit,minSize:a.defaults.minSize,minSizeUnit:a.defaults.minSizeUnit,id:a.defaults.id,maximised:l.defaultMaximised,isClosable:a.defaults.isClosable,activeItemIndex:e.defaultActiveItemIndex,header:void 0}}}(d=t.ResolvedStackItemConfig||(t.ResolvedStackItemConfig={})),function(e){e.defaultReorderEnabled=!0,e.resolveComponentTypeName=function(e){const t=e.componentType;return"string"==typeof t?t:void 0},e.createCopy=function(e){return{type:e.type,content:[],size:e.size,sizeUnit:e.sizeUnit,minSize:e.minSize,minSizeUnit:e.minSizeUnit,id:e.id,maximised:e.maximised,isClosable:e.isClosable,reorderEnabled:e.reorderEnabled,title:e.title,header:l.Header.createCopy(e.header),componentType:e.componentType,componentState:(0,r.deepExtendValue)(void 0,e.componentState)}},e.createDefault=function(t="",n,i=""){return{type:s.ItemType.component,content:[],size:a.defaults.size,sizeUnit:a.defaults.sizeUnit,minSize:a.defaults.minSize,minSizeUnit:a.defaults.minSizeUnit,id:a.defaults.id,maximised:l.defaultMaximised,isClosable:a.defaults.isClosable,reorderEnabled:e.defaultReorderEnabled,title:i,header:void 0,componentType:t,componentState:n}},e.copyComponentType=function(e){return(0,r.deepExtendValue)({},e)}}(h=t.ResolvedComponentItemConfig||(t.ResolvedComponentItemConfig={})),function(e){function t(e){const t=e.length,n=new Array(t);for(let i=0;i<t;i++)n[i]=a.createCopy(e[i]);return n}e.isChildItemConfig=function(e){switch(e.type){case s.ItemType.row:case s.ItemType.column:case s.ItemType.stack:case s.ItemType.component:return!0;case s.ItemType.ground:return!1;default:throw new i.UnreachableCaseError("CROCOSPCICIC13687",e.type)}},e.createCopy=function(e,n){return{type:e.type,content:t(void 0!==n?n:e.content),size:e.size,sizeUnit:e.sizeUnit,minSize:e.minSize,minSizeUnit:e.minSizeUnit,id:e.id,isClosable:e.isClosable}},e.copyContent=t,e.createDefault=function(e){return{type:e,content:[],size:a.defaults.size,sizeUnit:a.defaults.sizeUnit,minSize:a.defaults.minSize,minSizeUnit:a.defaults.minSizeUnit,id:a.defaults.id,isClosable:a.defaults.isClosable}}}(c=t.ResolvedRowOrColumnItemConfig||(t.ResolvedRowOrColumnItemConfig={})),function(e){e.createCopy=function(e){return a.createCopy(e)},e.isRootItemConfig=function(e){switch(e.type){case s.ItemType.row:case s.ItemType.column:case s.ItemType.stack:case s.ItemType.component:return!0;case s.ItemType.ground:return!1;default:throw new i.UnreachableCaseError("CROCOSPCICIC13687",e.type)}}}(u=t.ResolvedRootItemConfig||(t.ResolvedRootItemConfig={})),(t.ResolvedGroundItemConfig||(t.ResolvedGroundItemConfig={})).create=function(e){const t=void 0===e?[]:[e];return{type:s.ItemType.ground,content:t,size:100,sizeUnit:s.SizeUnitEnum.Percent,minSize:0,minSizeUnit:s.SizeUnitEnum.Pixel,id:"",isClosable:!1,title:"",reorderEnabled:!1}},function(e){let t,n,i;function r(e){return"parentId"in e}!function(e){e.defaults={constrainDragToContainer:!0,reorderEnabled:!0,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,responsiveMode:s.ResponsiveMode.none,tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,popInOnClose:!1},e.createCopy=function(e){return{constrainDragToContainer:e.constrainDragToContainer,reorderEnabled:e.reorderEnabled,popoutWholeStack:e.popoutWholeStack,blockedPopoutsThrowError:e.blockedPopoutsThrowError,closePopoutsOnUnload:e.closePopoutsOnUnload,responsiveMode:e.responsiveMode,tabOverlapAllowance:e.tabOverlapAllowance,reorderOnTabMenuClick:e.reorderOnTabMenuClick,tabControlOffset:e.tabControlOffset,popInOnClose:e.popInOnClose}}}(t=e.Settings||(e.Settings={})),function(e){e.createCopy=function(e){return{borderWidth:e.borderWidth,borderGrabWidth:e.borderGrabWidth,defaultMinItemHeight:e.defaultMinItemHeight,defaultMinItemHeightUnit:e.defaultMinItemHeightUnit,defaultMinItemWidth:e.defaultMinItemWidth,defaultMinItemWidthUnit:e.defaultMinItemWidthUnit,headerHeight:e.headerHeight,dragProxyWidth:e.dragProxyWidth,dragProxyHeight:e.dragProxyHeight}},e.defaults={borderWidth:5,borderGrabWidth:5,defaultMinItemHeight:0,defaultMinItemHeightUnit:s.SizeUnitEnum.Pixel,defaultMinItemWidth:10,defaultMinItemWidthUnit:s.SizeUnitEnum.Pixel,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200}}(n=e.Dimensions||(e.Dimensions={})),function(e){e.createCopy=function(e){return{show:e.show,popout:e.popout,dock:e.dock,close:e.close,maximise:e.maximise,minimise:e.minimise,tabDropdown:e.tabDropdown}},e.defaults={show:s.Side.top,popout:"open in new window",dock:"dock",maximise:"maximise",minimise:"minimise",close:"close",tabDropdown:"additional tabs"}}(i=e.Header||(e.Header={})),e.isPopout=r,e.createDefault=function(){return{root:void 0,openPopouts:[],dimensions:e.Dimensions.defaults,settings:e.Settings.defaults,header:e.Header.defaults,resolved:!0}},e.createCopy=function(t){return r(t)?p.createCopy(t):{root:void 0===t.root?void 0:u.createCopy(t.root),openPopouts:e.copyOpenPopouts(t.openPopouts),settings:e.Settings.createCopy(t.settings),dimensions:e.Dimensions.createCopy(t.dimensions),header:e.Header.createCopy(t.header),resolved:t.resolved}},e.copyOpenPopouts=function(e){const t=e.length,n=new Array(t);for(let i=0;i<t;i++)n[i]=p.createCopy(e[i]);return n},e.minifyConfig=function(e){return o.ConfigMinifier.translateObject(e,!0)},e.unminifyConfig=function(e){return o.ConfigMinifier.translateObject(e,!1)}}(m=t.ResolvedLayoutConfig||(t.ResolvedLayoutConfig={})),function(e){let t;!function(e){e.createCopy=function(e){return{width:e.width,height:e.height,left:e.left,top:e.top}},e.defaults={width:null,height:null,left:null,top:null}}(t=e.Window||(e.Window={})),e.createCopy=function(t){return{root:void 0===t.root?void 0:u.createCopy(t.root),openPopouts:m.copyOpenPopouts(t.openPopouts),settings:m.Settings.createCopy(t.settings),dimensions:m.Dimensions.createCopy(t.dimensions),header:m.Header.createCopy(t.header),parentId:t.parentId,indexInParent:t.indexInParent,window:e.Window.createCopy(t.window),resolved:t.resolved}}}(p=t.ResolvedPopoutLayoutConfig||(t.ResolvedPopoutLayoutConfig={}))},783:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContentItem=void 0;const i=n(743),o=n(744),s=n(682);class r extends o.EventEmitter{constructor(e,t,n,i){super(),this.layoutManager=e,this._parent=n,this._element=i,this._popInParentIds=[],this._type=t.type,this._id=t.id,this._isInitialised=!1,this.isGround=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.size=t.size,this.sizeUnit=t.sizeUnit,this.minSize=t.minSize,this.minSizeUnit=t.minSizeUnit,this._isClosable=t.isClosable,this._pendingEventPropagations={},this._throttledEvents=["stateChanged"],this._contentItems=this.createContentItems(t.content)}get type(){return this._type}get id(){return this._id}set id(e){this._id=e}get popInParentIds(){return this._popInParentIds}get parent(){return this._parent}get contentItems(){return this._contentItems}get isClosable(){return this._isClosable}get element(){return this._element}get isInitialised(){return this._isInitialised}static isStack(e){return e.isStack}static isComponentItem(e){return e.isComponent}static isComponentParentableItem(e){return e.isStack||e.isGround}removeChild(e,t=!1){const n=this._contentItems.indexOf(e);if(-1===n)throw new Error("Can't remove child item. Unknown content item");if(t||this._contentItems[n].destroy(),this._contentItems.splice(n,1),this._contentItems.length>0)this.updateSize(!1);else if(!this.isGround&&!0===this._isClosable){if(null===this._parent)throw new i.UnexpectedNullError("CIUC00874");this._parent.removeChild(this)}}addChild(e,t,n){return null!=t||(t=this._contentItems.length),this._contentItems.splice(t,0,e),e.setParent(this),!0===this._isInitialised&&!1===e._isInitialised&&e.init(),t}replaceChild(e,t,n=!1){const o=this._contentItems.indexOf(e),s=e._element.parentNode;if(-1===o)throw new i.AssertError("CIRCI23232","Can't replace child. oldChild is not child of this");if(null===s)throw new i.UnexpectedNullError("CIRCP23232");if(s.replaceChild(t._element,e._element),!0===n&&(e._parent=null,e.destroy()),this._contentItems[o]=t,t.setParent(this),t.size=e.size,t.sizeUnit=e.sizeUnit,t.minSize=e.minSize,t.minSizeUnit=e.minSizeUnit,null===t._parent)throw new i.UnexpectedNullError("CIRCNC45699");!0===t._parent._isInitialised&&!1===t._isInitialised&&t.init(),this.updateSize(!1)}remove(){if(null===this._parent)throw new i.UnexpectedNullError("CIR11110");this._parent.removeChild(this)}popout(){const e=(0,s.getUniqueId)(),t=this.layoutManager.createPopoutFromContentItem(this,void 0,e,void 0);return this.emitBaseBubblingEvent("stateChanged"),t}calculateConfigContent(){const e=this._contentItems,t=e.length,n=new Array(t);for(let i=0;i<t;i++){const t=e[i];n[i]=t.toConfig()}return n}highlightDropZone(e,t,n){const o=this.layoutManager.dropTargetIndicator;if(null===o)throw new i.UnexpectedNullError("ACIHDZ5593");o.highlightArea(n,1)}onDrop(e,t){this.addChild(e)}show(){this.layoutManager.beginSizeInvalidation();try{(0,s.setElementDisplayVisibility)(this._element,!0);for(let e=0;e<this._contentItems.length;e++)this._contentItems[e].show()}finally{this.layoutManager.endSizeInvalidation()}}destroy(){for(let e=0;e<this._contentItems.length;e++)this._contentItems[e].destroy();this._contentItems=[],this.emitBaseBubblingEvent("beforeItemDestroyed"),this._element.remove(),this.emitBaseBubblingEvent("itemDestroyed")}getElementArea(e){const t=(e=null!=e?e:this._element).getBoundingClientRect(),n=t.top+document.body.scrollTop,i=t.left+document.body.scrollLeft,o=t.width,s=t.height;return{x1:i,y1:n,x2:i+o,y2:n+s,surface:o*s,contentItem:this}}init(){this._isInitialised=!0,this.emitBaseBubblingEvent("itemCreated"),this.emitUnknownBubblingEvent(this.type+"Created")}setParent(e){this._parent=e}addPopInParentId(e){this.popInParentIds.includes(e)||this.popInParentIds.push(e)}initContentItems(){for(let e=0;e<this._contentItems.length;e++)this._contentItems[e].init()}hide(){this.layoutManager.beginSizeInvalidation();try{(0,s.setElementDisplayVisibility)(this._element,!1)}finally{this.layoutManager.endSizeInvalidation()}}updateContentItemsSize(e){for(let t=0;t<this._contentItems.length;t++)this._contentItems[t].updateSize(e)}createContentItems(e){const t=e.length,n=new Array(t);for(let t=0;t<e.length;t++)n[t]=this.layoutManager.createContentItem(e[t],this);return n}propagateEvent(e,t){if(1===t.length){const n=t[0];n instanceof o.EventEmitter.BubblingEvent&&!1===n.isPropagationStopped&&!0===this._isInitialised&&(!1===this.isGround&&this._parent?this._parent.emitUnknown(e,n):this.scheduleEventPropagationToLayoutManager(e,n))}}tryBubbleEvent(e,t){if(1===t.length){const n=t[0];n instanceof o.EventEmitter.BubblingEvent&&!1===n.isPropagationStopped&&!0===this._isInitialised&&(!1===this.isGround&&this._parent?this._parent.emitUnknown(e,n):this.scheduleEventPropagationToLayoutManager(e,n))}}scheduleEventPropagationToLayoutManager(e,t){-1===this._throttledEvents.indexOf(e)?this.layoutManager.emitUnknown(e,t):!0!==this._pendingEventPropagations[e]&&(this._pendingEventPropagations[e]=!0,globalThis.requestAnimationFrame((()=>this.propagateEventToLayoutManager(e,t))))}propagateEventToLayoutManager(e,t){this._pendingEventPropagations[e]=!1,this.layoutManager.emitUnknown(e,t)}}t.ContentItem=r},785:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Splitter=void 0;const i=n(902),o=n(682);t.Splitter=class{constructor(e,t,n){this._isVertical=e,this._size=t,this._grabSize=n<this._size?this._size:n,this._element=document.createElement("div"),this._element.classList.add("lm_splitter");const s=document.createElement("div");s.classList.add("lm_drag_handle");const r=this._grabSize-this._size,a=r/2;this._isVertical?(s.style.top=(0,o.numberToPixels)(-a),s.style.height=(0,o.numberToPixels)(this._size+r),this._element.classList.add("lm_vertical"),this._element.style.height=(0,o.numberToPixels)(this._size)):(s.style.left=(0,o.numberToPixels)(-a),s.style.width=(0,o.numberToPixels)(this._size+r),this._element.classList.add("lm_horizontal"),this._element.style.width=(0,o.numberToPixels)(this._size)),this._element.appendChild(s),this._dragListener=new i.DragListener(this._element,[s])}get element(){return this._element}destroy(){this._element.remove()}on(e,t){this._dragListener.on(e,t)}}},812:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TabsContainer=void 0;const i=n(743),o=n(682),s=n(51);t.TabsContainer=class{constructor(e,t,n,i,o){this._layoutManager=e,this._componentRemoveEvent=t,this._componentFocusEvent=n,this._componentDragStartEvent=i,this._dropdownActiveChangedEvent=o,this._tabs=[],this._lastVisibleTabIndex=-1,this._dropdownActive=!1,this._element=document.createElement("section"),this._element.classList.add("lm_tabs"),this._dropdownElement=document.createElement("section"),this._dropdownElement.classList.add("lm_tabdropdown_list"),this._dropdownElement.style.display="none"}get tabs(){return this._tabs}get tabCount(){return this._tabs.length}get lastVisibleTabIndex(){return this._lastVisibleTabIndex}get element(){return this._element}get dropdownElement(){return this._dropdownElement}get dropdownActive(){return this._dropdownActive}destroy(){for(let e=0;e<this._tabs.length;e++)this._tabs[e].destroy()}createTab(e,t){for(let t=0;t<this._tabs.length;t++)if(this._tabs[t].componentItem===e)return;const n=new s.Tab(this._layoutManager,e,(e=>this.handleTabCloseEvent(e)),(e=>this.handleTabFocusEvent(e)),((e,t,n,i)=>this.handleTabDragStartEvent(e,t,n,i)));void 0===t&&(t=this._tabs.length),this._tabs.splice(t,0,n),t<this._element.childNodes.length?this._element.insertBefore(n.element,this._element.childNodes[t]):this._element.appendChild(n.element)}removeTab(e){for(let t=0;t<this._tabs.length;t++)if(this._tabs[t].componentItem===e)return this._tabs[t].destroy(),void this._tabs.splice(t,1);throw new Error("contentItem is not controlled by this header")}processActiveComponentChanged(e){let t=-1;for(let n=0;n<this._tabs.length;n++){const i=this._tabs[n].componentItem===e;this._tabs[n].setActive(i),i&&(t=n)}if(t<0)throw new i.AssertError("HSACI56632");if(this._layoutManager.layoutConfig.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&t>this._lastVisibleTabIndex){const e=this._tabs[t];for(let e=t;e>0;e--)this._tabs[e]=this._tabs[e-1];this._tabs[0]=e}}updateTabSizes(e,t){let n=!1;this.tryUpdateTabSizes(n,e,t)||(n=!0,this.tryUpdateTabSizes(n,e,t)),n!==this._dropdownActive&&(this._dropdownActive=n,this._dropdownActiveChangedEvent())}tryUpdateTabSizes(e,t,n){if(this._tabs.length>0){if(void 0===n)throw new Error("non-empty tabs must have active component item");let i=0,s=!1;const r=this._layoutManager.layoutConfig.settings.tabOverlapAllowance,a=this._tabs.indexOf(n.tab),l=this._tabs[a];this._lastVisibleTabIndex=-1;for(let n=0;n<this._tabs.length;n++){const d=this._tabs[n].element;d.parentElement!==this._element&&this._element.appendChild(d);const h=getComputedStyle(l.element).marginRight,c=(0,o.pixelsToNumber)(h);i+=d.offsetWidth+c;let u=0;if(a<=n)u=i;else{const e=getComputedStyle(l.element).marginRight,t=(0,o.pixelsToNumber)(e);u=i+l.element.offsetWidth+t}if(u>t){if(s)n===a&&(d.style.zIndex="auto",d.style.marginLeft="",d.parentElement!==this._element&&this._element.appendChild(d));else{let e;if(e=a>0&&a<=n?(u-t)/(n-1):(u-t)/n,e<r){for(let t=0;t<=n;t++){const i=t!==a&&0!==t?"-"+(0,o.numberToPixels)(e):"";this._tabs[t].element.style.zIndex=(0,o.numberToPixels)(n-t),this._tabs[t].element.style.marginLeft=i}this._lastVisibleTabIndex=n,d.parentElement!==this._element&&this._element.appendChild(d)}else s=!0}if(s&&n!==a){if(!e)return!1;d.style.zIndex="auto",d.style.marginLeft="",d.parentElement!==this._dropdownElement&&this._dropdownElement.appendChild(d)}}else this._lastVisibleTabIndex=n,d.style.zIndex="auto",d.style.marginLeft="",d.parentElement!==this._element&&this._element.appendChild(d)}}return!0}showAdditionalTabsDropdown(){this._dropdownElement.style.display=""}hideAdditionalTabsDropdown(){this._dropdownElement.style.display="none"}handleTabCloseEvent(e){this._componentRemoveEvent(e)}handleTabFocusEvent(e){this._componentFocusEvent(e)}handleTabDragStartEvent(e,t,n,i){this._componentDragStartEvent(e,t,n,i)}}},836:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentContainer=void 0;const i=n(876),o=n(743),s=n(744),r=n(646),a=n(682);class l extends s.EventEmitter{constructor(e,t,n,i,o,s,r,a,l){super(),this._config=e,this._parent=t,this._layoutManager=n,this._element=i,this._updateItemConfigEvent=o,this._showEvent=s,this._hideEvent=r,this._focusEvent=a,this._blurEvent=l,this._stackMaximised=!1,this._width=0,this._height=0,this._visible=!0,this._isShownWithZeroDimensions=!0,this._componentType=e.componentType,this._isClosable=e.isClosable,this._initialState=e.componentState,this._state=this._initialState,this._boundComponent=this.layoutManager.bindComponent(this,e),this.updateElementPositionPropertyFromBoundComponent()}get width(){return this._width}get height(){return this._height}get parent(){return this._parent}get componentName(){return this._componentType}get componentType(){return this._componentType}get virtual(){return this._boundComponent.virtual}get component(){return this._boundComponent.component}get tab(){return this._tab}get title(){return this._parent.title}get layoutManager(){return this._layoutManager}get isHidden(){return!this._visible}get visible(){return this._visible}get state(){return this._state}get initialState(){return this._initialState}get element(){return this._element}destroy(){this.releaseComponent(),this.stateRequestEvent=void 0,this.emit("destroy")}getElement(){return this._element}hide(){this._hideEvent()}show(){this._showEvent()}focus(e=!1){this._focusEvent(e)}blur(e=!1){this._blurEvent(e)}setSize(e,t){let n=this._parent;if(n.isColumn||n.isRow||null===n.parent)throw new o.AssertError("ICSSPRC","ComponentContainer cannot have RowColumn Parent");{let i;do{i=n,n=n.parent}while(null!==n&&!n.isColumn&&!n.isRow);if(null===n)return!1;{const s=n.isColumn?"height":"width",r=this[s];if(null===r)throw new o.UnexpectedNullError("ICSSCS11194");{const o=("height"===s?t:e)/(r*(1/(i.size/100)))*100,a=(i.size-o)/(n.contentItems.length-1);for(let e=0;e<n.contentItems.length;e++){const t=n.contentItems[e];t===i?t.size=o:t.size+=a}return n.updateSize(!1),!0}}}}close(){this._isClosable&&(this.emit("close"),this._parent.close())}replaceComponent(e){if(this.releaseComponent(),!i.ItemConfig.isComponent(e))throw new Error("ReplaceComponent not passed a component ItemConfig");{const t=i.ComponentItemConfig.resolve(e,!1);if(this._initialState=t.componentState,this._state=this._initialState,this._componentType=t.componentType,this._updateItemConfigEvent(t),this._boundComponent=this.layoutManager.bindComponent(this,t),this.updateElementPositionPropertyFromBoundComponent(),this._boundComponent.virtual){if(void 0!==this.virtualVisibilityChangeRequiredEvent&&this.virtualVisibilityChangeRequiredEvent(this,this._visible),void 0!==this.virtualRectingRequiredEvent){this._layoutManager.fireBeforeVirtualRectingEvent(1);try{this.virtualRectingRequiredEvent(this,this._width,this._height)}finally{this._layoutManager.fireAfterVirtualRectingEvent()}}this.setBaseLogicalZIndex()}this.emit("stateChanged")}}getState(){return this._state}extendState(e){const t=(0,a.deepExtend)(this._state,e);this.setState(t)}setState(e){this._state=e,this._parent.emitBaseBubblingEvent("stateChanged")}setTitle(e){this._parent.setTitle(e)}setTab(e){this._tab=e,this.emit("tab",e)}setVisibility(e){this._boundComponent.virtual&&void 0!==this.virtualVisibilityChangeRequiredEvent&&this.virtualVisibilityChangeRequiredEvent(this,e),e?this._visible?!this._isShownWithZeroDimensions||0===this._height&&0===this._width||(this._isShownWithZeroDimensions=!1,this.setSizeToNodeSize(this._width,this._height,!0),this.emitShow()):(this._visible=!0,0===this._height&&0===this._width?this._isShownWithZeroDimensions=!0:(this._isShownWithZeroDimensions=!1,this.setSizeToNodeSize(this._width,this._height,!0),this.emitShow())):this._visible&&(this._visible=!1,this._isShownWithZeroDimensions=!1,this.emitHide())}setBaseLogicalZIndex(){this.setLogicalZIndex(r.LogicalZIndex.base)}setLogicalZIndex(e){e!==this._logicalZIndex&&(this._logicalZIndex=e,this.notifyVirtualZIndexChangeRequired())}enterDragMode(e,t){this._width=e,this._height=t,(0,a.setElementWidth)(this._element,e),(0,a.setElementHeight)(this._element,t),this.setLogicalZIndex(r.LogicalZIndex.drag),this.drag()}exitDragMode(){this.setBaseLogicalZIndex()}enterStackMaximised(){this._stackMaximised=!0,this.setLogicalZIndex(r.LogicalZIndex.stackMaximised)}exitStackMaximised(){this.setBaseLogicalZIndex(),this._stackMaximised=!1}drag(){if(this._boundComponent.virtual&&void 0!==this.virtualRectingRequiredEvent){this._layoutManager.fireBeforeVirtualRectingEvent(1);try{this.virtualRectingRequiredEvent(this,this._width,this._height)}finally{this._layoutManager.fireAfterVirtualRectingEvent()}}}setSizeToNodeSize(e,t,n){(e!==this._width||t!==this._height||n)&&(this._width=e,this._height=t,(0,a.setElementWidth)(this._element,e),(0,a.setElementHeight)(this._element,t),this._boundComponent.virtual?this.addVirtualSizedContainerToLayoutManager():(this.emit("resize"),this.checkShownFromZeroDimensions()))}notifyVirtualRectingRequired(){void 0!==this.virtualRectingRequiredEvent&&(this.virtualRectingRequiredEvent(this,this._width,this._height),this.emit("resize"),this.checkShownFromZeroDimensions())}notifyVirtualZIndexChangeRequired(){if(void 0!==this.virtualZIndexChangeRequiredEvent){const e=this._logicalZIndex,t=r.LogicalZIndexToDefaultMap[e];this.virtualZIndexChangeRequiredEvent(this,e,t)}}updateElementPositionPropertyFromBoundComponent(){this._boundComponent.virtual?this._element.style.position="static":this._element.style.position=""}addVirtualSizedContainerToLayoutManager(){this._layoutManager.beginVirtualSizedContainerAdding();try{this._layoutManager.addVirtualSizedContainer(this)}finally{this._layoutManager.endVirtualSizedContainerAdding()}}checkShownFromZeroDimensions(){!this._isShownWithZeroDimensions||0===this._height&&0===this._width||(this._isShownWithZeroDimensions=!1,this.emitShow())}emitShow(){this.emit("shown"),this.emit("show")}emitHide(){this.emit("hide")}releaseComponent(){this._stackMaximised&&this.exitStackMaximised(),this.emit("beforeComponentRelease",this._boundComponent.component),this.layoutManager.unbindComponent(this,this._boundComponent.virtual,this._boundComponent.component)}}t.ComponentContainer=l},876:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatUndefinableSize=t.formatSize=t.parseSize=t.PopoutLayoutConfig=t.LayoutConfig=t.RootItemConfig=t.RowOrColumnItemConfig=t.ComponentItemConfig=t.StackItemConfig=t.HeaderedItemConfig=t.ItemConfig=void 0;const i=n(677),o=n(743),s=n(328),r=n(646),a=n(682),l=n(745);var d,h,c,u,m,p,f,g;function _(e,t){const{numericPart:n,firstNonNumericCharPart:o}=(0,a.splitStringAtFirstNonNumericChar)(e),l=Number.parseInt(n,10);if(isNaN(l))throw new i.ConfigurationError(`${s.i18nStrings[7]}: ${e}`);{const n=r.SizeUnitEnum.tryParse(o);if(void 0===n)throw new i.ConfigurationError(`${s.i18nStrings[8]}: ${e}`);if(t.includes(n))return{size:l,sizeUnit:n};throw new i.ConfigurationError(`${s.i18nStrings[9]}: ${e}`)}}function v(e,t){return e.toString(10)+r.SizeUnitEnum.format(t)}function C(e,t){return void 0===e?void 0:e.toString(10)+r.SizeUnitEnum.format(t)}!function(e){e.resolve=function(e,t){switch(e.type){case r.ItemType.ground:throw new i.ConfigurationError("ItemConfig cannot specify type ground",JSON.stringify(e));case r.ItemType.row:case r.ItemType.column:return m.resolve(e,t);case r.ItemType.stack:return c.resolve(e,t);case r.ItemType.component:return u.resolve(e,t);default:throw new o.UnreachableCaseError("UCUICR55499",e.type)}},e.resolveContent=function(t){if(void 0===t)return[];{const n=t.length,i=new Array(n);for(let o=0;o<n;o++)i[o]=e.resolve(t[o],!1);return i}},e.resolveId=function(e){return void 0===e?l.ResolvedItemConfig.defaults.id:Array.isArray(e)?0===e.length?l.ResolvedItemConfig.defaults.id:e[0]:e},e.resolveSize=function(e,t,n,i){if(void 0!==e)return _(e,[r.SizeUnitEnum.Percent,r.SizeUnitEnum.Fractional]);if(void 0!==t||void 0!==n){if(void 0!==t)return{size:t,sizeUnit:r.SizeUnitEnum.Percent};if(void 0!==n)return{size:n,sizeUnit:r.SizeUnitEnum.Percent};throw new o.UnexpectedUndefinedError("CRS33390")}return i?{size:50,sizeUnit:r.SizeUnitEnum.Percent}:{size:l.ResolvedItemConfig.defaults.size,sizeUnit:l.ResolvedItemConfig.defaults.sizeUnit}},e.resolveMinSize=function(e,t,n){if(void 0!==e)return _(e,[r.SizeUnitEnum.Pixel]);{const e=void 0!==t;return e||void 0!==n?e?{size:t,sizeUnit:r.SizeUnitEnum.Pixel}:{size:n,sizeUnit:r.SizeUnitEnum.Pixel}:{size:l.ResolvedItemConfig.defaults.minSize,sizeUnit:l.ResolvedItemConfig.defaults.minSizeUnit}}},e.calculateSizeWidthHeightSpecificationType=function(e){return void 0!==e.size?1:void 0!==e.width||void 0!==e.height?2:0},e.isGround=function(e){return e.type===r.ItemType.ground},e.isRow=function(e){return e.type===r.ItemType.row},e.isColumn=function(e){return e.type===r.ItemType.column},e.isStack=function(e){return e.type===r.ItemType.stack},e.isComponent=function(e){return e.type===r.ItemType.component}}(d=t.ItemConfig||(t.ItemConfig={})),function(e){let t;!function(e){e.resolve=function(e,t){var n;if(void 0!==e||void 0!==t)return{show:null!==(n=null==e?void 0:e.show)&&void 0!==n?n:void 0===t?void 0:!!t&&l.ResolvedLayoutConfig.Header.defaults.show,popout:null==e?void 0:e.popout,maximise:null==e?void 0:e.maximise,close:null==e?void 0:e.close,minimise:null==e?void 0:e.minimise,tabDropdown:null==e?void 0:e.tabDropdown}}}(t=e.Header||(e.Header={})),e.resolveIdAndMaximised=function(e){let t,n,i=e.id,o=!1;if(void 0===i)t=l.ResolvedItemConfig.defaults.id;else if(Array.isArray(i)){const e=i.findIndex((e=>"__glMaximised"===e));e>0&&(o=!0,i=i.splice(e,1)),t=i.length>0?i[0]:l.ResolvedItemConfig.defaults.id}else t=i;return n=void 0!==e.maximised?e.maximised:o,{id:t,maximised:n}}}(h=t.HeaderedItemConfig||(t.HeaderedItemConfig={})),function(e){function t(e){if(void 0===e)return[];{const t=e.length,n=new Array(t);for(let i=0;i<t;i++){const t=e[i],s=d.resolve(t,!1);if(!l.ResolvedItemConfig.isComponentItem(s))throw new o.AssertError("UCUSICRC91114",JSON.stringify(s));n[i]=s}return n}}function n(e){const t=e.length,n=new Array(t);for(let i=0;i<t;i++){const t=e[i];n[i]=u.fromResolved(t)}return n}e.resolve=function(e,n){var i,o;const{id:s,maximised:a}=h.resolveIdAndMaximised(e),{size:c,sizeUnit:u}=d.resolveSize(e.size,e.width,e.height,n),{size:m,sizeUnit:p}=d.resolveMinSize(e.minSize,e.minWidth,e.minHeight);return{type:r.ItemType.stack,content:t(e.content),size:c,sizeUnit:u,minSize:m,minSizeUnit:p,id:s,maximised:a,isClosable:null!==(i=e.isClosable)&&void 0!==i?i:l.ResolvedItemConfig.defaults.isClosable,activeItemIndex:null!==(o=e.activeItemIndex)&&void 0!==o?o:l.ResolvedStackItemConfig.defaultActiveItemIndex,header:h.Header.resolve(e.header,e.hasHeaders)}},e.fromResolved=function(e){return{type:r.ItemType.stack,content:n(e.content),size:v(e.size,e.sizeUnit),minSize:C(e.minSize,e.minSizeUnit),id:e.id,maximised:e.maximised,isClosable:e.isClosable,activeItemIndex:e.activeItemIndex,header:l.ResolvedHeaderedItemConfig.Header.createCopy(e.header)}}}(c=t.StackItemConfig||(t.StackItemConfig={})),function(e){e.resolve=function(t,n){var i,o,s;let r=t.componentType;if(void 0===r&&(r=t.componentName),void 0===r)throw new Error("ComponentItemConfig.componentType is undefined");{const{id:a,maximised:c}=h.resolveIdAndMaximised(t);let u;u=void 0===t.title||""===t.title?e.componentTypeToTitle(r):t.title;const{size:m,sizeUnit:p}=d.resolveSize(t.size,t.width,t.height,n),{size:f,sizeUnit:g}=d.resolveMinSize(t.minSize,t.minWidth,t.minHeight);return{type:t.type,content:[],size:m,sizeUnit:p,minSize:f,minSizeUnit:g,id:a,maximised:c,isClosable:null!==(i=t.isClosable)&&void 0!==i?i:l.ResolvedItemConfig.defaults.isClosable,reorderEnabled:null!==(o=t.reorderEnabled)&&void 0!==o?o:l.ResolvedComponentItemConfig.defaultReorderEnabled,title:u,header:h.Header.resolve(t.header,t.hasHeaders),componentType:r,componentState:null!==(s=t.componentState)&&void 0!==s?s:{}}}},e.fromResolved=function(e){return{type:r.ItemType.component,size:v(e.size,e.sizeUnit),minSize:C(e.minSize,e.minSizeUnit),id:e.id,maximised:e.maximised,isClosable:e.isClosable,reorderEnabled:e.reorderEnabled,title:e.title,header:l.ResolvedHeaderedItemConfig.Header.createCopy(e.header),componentType:e.componentType,componentState:(0,a.deepExtendValue)(void 0,e.componentState)}},e.componentTypeToTitle=function(e){switch(typeof e){case"string":return e;case"number":case"boolean":return e.toString();default:return""}}}(u=t.ComponentItemConfig||(t.ComponentItemConfig={})),function(e){function t(t){const n=t.length,i=new Array(n);for(let s=0;s<n;s++){const n=t[s],a=n.type;let l;switch(a){case r.ItemType.row:case r.ItemType.column:l=e.fromResolved(n);break;case r.ItemType.stack:l=c.fromResolved(n);break;case r.ItemType.component:l=u.fromResolved(n);break;default:throw new o.UnreachableCaseError("ROCICFRC44797",a)}i[s]=l}return i}e.isChildItemConfig=function(e){switch(e.type){case r.ItemType.row:case r.ItemType.column:case r.ItemType.stack:case r.ItemType.component:return!0;case r.ItemType.ground:return!1;default:throw new o.UnreachableCaseError("UROCOSPCICIC13687",e.type)}},e.resolve=function(t,n){var i;const{size:o,sizeUnit:s}=d.resolveSize(t.size,t.width,t.height,n),{size:r,sizeUnit:a}=d.resolveMinSize(t.minSize,t.minWidth,t.minHeight);return{type:t.type,content:e.resolveContent(t.content),size:o,sizeUnit:s,minSize:r,minSizeUnit:a,id:d.resolveId(t.id),isClosable:null!==(i=t.isClosable)&&void 0!==i?i:l.ResolvedItemConfig.defaults.isClosable}},e.fromResolved=function(e){return{type:e.type,content:t(e.content),size:v(e.size,e.sizeUnit),minSize:C(e.minSize,e.minSizeUnit),id:e.id,isClosable:e.isClosable}},e.resolveContent=function(t){if(void 0===t)return[];{const n=t.length,s=new Array(n);let r,a=!1,h=!1;for(let r=0;r<n;r++){const n=t[r];if(!e.isChildItemConfig(n))throw new i.ConfigurationError("ItemConfig is not Row, Column or Stack",n);if(!h){const e=d.calculateSizeWidthHeightSpecificationType(n);switch(e){case 0:break;case 2:a=!0;break;case 1:h=!0;break;default:throw new o.UnreachableCaseError("ROCICRC87556",e)}}s[r]=n}r=!h&&!!a;const c=new Array(n);for(let e=0;e<n;e++){const t=s[e],n=d.resolve(t,r);if(!l.ResolvedRowOrColumnItemConfig.isChildItemConfig(n))throw new o.AssertError("UROCOSPIC99512",JSON.stringify(n));c[e]=n}return c}}}(m=t.RowOrColumnItemConfig||(t.RowOrColumnItemConfig={})),function(e){e.isRootItemConfig=function(e){switch(e.type){case r.ItemType.row:case r.ItemType.column:case r.ItemType.stack:case r.ItemType.component:return!0;case r.ItemType.ground:return!1;default:throw new o.UnreachableCaseError("URICIR23687",e.type)}},e.resolve=function(e){if(void 0!==e){const t=d.resolve(e,!1);if(l.ResolvedRootItemConfig.isRootItemConfig(t))return t;throw new i.ConfigurationError("ItemConfig is not Row, Column or Stack",JSON.stringify(e))}},e.fromResolvedOrUndefined=function(e){if(void 0!==e){const t=e.type;switch(t){case r.ItemType.row:case r.ItemType.column:return m.fromResolved(e);case r.ItemType.stack:return c.fromResolved(e);case r.ItemType.component:return u.fromResolved(e);default:throw new o.UnreachableCaseError("RICFROU89921",t)}}}}(p=t.RootItemConfig||(t.RootItemConfig={})),function(e){let t,n,i;function o(e){return"parentId"in e||"indexInParent"in e||"window"in e}!function(e){e.resolve=function(e){var t,n,i,o,s,r,a,d,h,c;return{constrainDragToContainer:null!==(t=null==e?void 0:e.constrainDragToContainer)&&void 0!==t?t:l.ResolvedLayoutConfig.Settings.defaults.constrainDragToContainer,reorderEnabled:null!==(n=null==e?void 0:e.reorderEnabled)&&void 0!==n?n:l.ResolvedLayoutConfig.Settings.defaults.reorderEnabled,popoutWholeStack:null!==(i=null==e?void 0:e.popoutWholeStack)&&void 0!==i?i:l.ResolvedLayoutConfig.Settings.defaults.popoutWholeStack,blockedPopoutsThrowError:null!==(o=null==e?void 0:e.blockedPopoutsThrowError)&&void 0!==o?o:l.ResolvedLayoutConfig.Settings.defaults.blockedPopoutsThrowError,closePopoutsOnUnload:null!==(s=null==e?void 0:e.closePopoutsOnUnload)&&void 0!==s?s:l.ResolvedLayoutConfig.Settings.defaults.closePopoutsOnUnload,responsiveMode:null!==(r=null==e?void 0:e.responsiveMode)&&void 0!==r?r:l.ResolvedLayoutConfig.Settings.defaults.responsiveMode,tabOverlapAllowance:null!==(a=null==e?void 0:e.tabOverlapAllowance)&&void 0!==a?a:l.ResolvedLayoutConfig.Settings.defaults.tabOverlapAllowance,reorderOnTabMenuClick:null!==(d=null==e?void 0:e.reorderOnTabMenuClick)&&void 0!==d?d:l.ResolvedLayoutConfig.Settings.defaults.reorderOnTabMenuClick,tabControlOffset:null!==(h=null==e?void 0:e.tabControlOffset)&&void 0!==h?h:l.ResolvedLayoutConfig.Settings.defaults.tabControlOffset,popInOnClose:null!==(c=null==e?void 0:e.popInOnClose)&&void 0!==c?c:l.ResolvedLayoutConfig.Settings.defaults.popInOnClose}}}(t=e.Settings||(e.Settings={})),function(e){e.resolve=function(t){var n,i,o,s,r;const{size:a,sizeUnit:d}=e.resolveDefaultMinItemHeight(t),{size:h,sizeUnit:c}=e.resolveDefaultMinItemWidth(t);return{borderWidth:null!==(n=null==t?void 0:t.borderWidth)&&void 0!==n?n:l.ResolvedLayoutConfig.Dimensions.defaults.borderWidth,borderGrabWidth:null!==(i=null==t?void 0:t.borderGrabWidth)&&void 0!==i?i:l.ResolvedLayoutConfig.Dimensions.defaults.borderGrabWidth,defaultMinItemHeight:a,defaultMinItemHeightUnit:d,defaultMinItemWidth:h,defaultMinItemWidthUnit:c,headerHeight:null!==(o=null==t?void 0:t.headerHeight)&&void 0!==o?o:l.ResolvedLayoutConfig.Dimensions.defaults.headerHeight,dragProxyWidth:null!==(s=null==t?void 0:t.dragProxyWidth)&&void 0!==s?s:l.ResolvedLayoutConfig.Dimensions.defaults.dragProxyWidth,dragProxyHeight:null!==(r=null==t?void 0:t.dragProxyHeight)&&void 0!==r?r:l.ResolvedLayoutConfig.Dimensions.defaults.dragProxyHeight}},e.fromResolved=function(e){return{borderWidth:e.borderWidth,borderGrabWidth:e.borderGrabWidth,defaultMinItemHeight:v(e.defaultMinItemHeight,e.defaultMinItemHeightUnit),defaultMinItemWidth:v(e.defaultMinItemWidth,e.defaultMinItemWidthUnit),headerHeight:e.headerHeight,dragProxyWidth:e.dragProxyWidth,dragProxyHeight:e.dragProxyHeight}},e.resolveDefaultMinItemHeight=function(e){const t=null==e?void 0:e.defaultMinItemHeight;return void 0===t?{size:l.ResolvedLayoutConfig.Dimensions.defaults.defaultMinItemHeight,sizeUnit:l.ResolvedLayoutConfig.Dimensions.defaults.defaultMinItemHeightUnit}:_(t,[r.SizeUnitEnum.Pixel])},e.resolveDefaultMinItemWidth=function(e){const t=null==e?void 0:e.defaultMinItemWidth;return void 0===t?{size:l.ResolvedLayoutConfig.Dimensions.defaults.defaultMinItemWidth,sizeUnit:l.ResolvedLayoutConfig.Dimensions.defaults.defaultMinItemWidthUnit}:_(t,[r.SizeUnitEnum.Pixel])}}(n=e.Dimensions||(e.Dimensions={})),function(e){e.resolve=function(e,t,n){var i,o,s,r,a,d,h,c,u,m,p,f;let g;return g=void 0!==(null==e?void 0:e.show)?e.show:void 0!==t&&void 0!==t.hasHeaders?!!t.hasHeaders&&l.ResolvedLayoutConfig.Header.defaults.show:l.ResolvedLayoutConfig.Header.defaults.show,{show:g,popout:null!==(o=null!==(i=null==e?void 0:e.popout)&&void 0!==i?i:null==n?void 0:n.popout)&&void 0!==o?o:!1!==(null==t?void 0:t.showPopoutIcon)&&l.ResolvedLayoutConfig.Header.defaults.popout,dock:null!==(r=null!==(s=null==e?void 0:e.popin)&&void 0!==s?s:null==n?void 0:n.popin)&&void 0!==r?r:l.ResolvedLayoutConfig.Header.defaults.dock,maximise:null!==(d=null!==(a=null==e?void 0:e.maximise)&&void 0!==a?a:null==n?void 0:n.maximise)&&void 0!==d?d:!1!==(null==t?void 0:t.showMaximiseIcon)&&l.ResolvedLayoutConfig.Header.defaults.maximise,close:null!==(c=null!==(h=null==e?void 0:e.close)&&void 0!==h?h:null==n?void 0:n.close)&&void 0!==c?c:!1!==(null==t?void 0:t.showCloseIcon)&&l.ResolvedLayoutConfig.Header.defaults.close,minimise:null!==(m=null!==(u=null==e?void 0:e.minimise)&&void 0!==u?u:null==n?void 0:n.minimise)&&void 0!==m?m:l.ResolvedLayoutConfig.Header.defaults.minimise,tabDropdown:null!==(f=null!==(p=null==e?void 0:e.tabDropdown)&&void 0!==p?p:null==n?void 0:n.tabDropdown)&&void 0!==f?f:l.ResolvedLayoutConfig.Header.defaults.tabDropdown}}}(i=e.Header||(e.Header={})),e.isPopout=o,e.resolve=function(t){if(o(t))return g.resolve(t);{let n;return n=void 0!==t.root?t.root:void 0!==t.content&&t.content.length>0?t.content[0]:void 0,{resolved:!0,root:p.resolve(n),openPopouts:e.resolveOpenPopouts(t.openPopouts),dimensions:e.Dimensions.resolve(t.dimensions),settings:e.Settings.resolve(t.settings),header:e.Header.resolve(t.header,t.settings,t.labels)}}},e.fromResolved=function(t){return{root:p.fromResolvedOrUndefined(t.root),openPopouts:g.fromResolvedArray(t.openPopouts),settings:l.ResolvedLayoutConfig.Settings.createCopy(t.settings),dimensions:e.Dimensions.fromResolved(t.dimensions),header:l.ResolvedLayoutConfig.Header.createCopy(t.header)}},e.isResolved=function(e){const t=e;return void 0!==t.resolved&&!0===t.resolved},e.resolveOpenPopouts=function(e){if(void 0===e)return[];{const t=e.length,n=new Array(t);for(let i=0;i<t;i++)n[i]=g.resolve(e[i]);return n}}}(f=t.LayoutConfig||(t.LayoutConfig={})),function(e){let t;function n(t){const n=t.length,i=new Array(n);for(let o=0;o<n;o++){const n=t[o];i[o]=e.fromResolved(n)}return i}!function(e){e.resolve=function(e,t){var n,i,o,s,r,a,d,h;let c;const u=l.ResolvedPopoutLayoutConfig.Window.defaults;return c=void 0!==e?{width:null!==(n=e.width)&&void 0!==n?n:u.width,height:null!==(i=e.height)&&void 0!==i?i:u.height,left:null!==(o=e.left)&&void 0!==o?o:u.left,top:null!==(s=e.top)&&void 0!==s?s:u.top}:{width:null!==(r=null==t?void 0:t.width)&&void 0!==r?r:u.width,height:null!==(a=null==t?void 0:t.height)&&void 0!==a?a:u.height,left:null!==(d=null==t?void 0:t.left)&&void 0!==d?d:u.left,top:null!==(h=null==t?void 0:t.top)&&void 0!==h?h:u.top},c},e.fromResolved=function(e){return{width:null===e.width?void 0:e.width,height:null===e.height?void 0:e.height,left:null===e.left?void 0:e.left,top:null===e.top?void 0:e.top}}}(t=e.Window||(e.Window={})),e.resolve=function(t){var n,i;let o;return o=void 0!==t.root?t.root:void 0!==t.content&&t.content.length>0?t.content[0]:void 0,{root:p.resolve(o),openPopouts:f.resolveOpenPopouts(t.openPopouts),dimensions:f.Dimensions.resolve(t.dimensions),settings:f.Settings.resolve(t.settings),header:f.Header.resolve(t.header,t.settings,t.labels),parentId:null!==(n=t.parentId)&&void 0!==n?n:null,indexInParent:null!==(i=t.indexInParent)&&void 0!==i?i:null,window:e.Window.resolve(t.window,t.dimensions),resolved:!0}},e.fromResolved=function(t){return{root:p.fromResolvedOrUndefined(t.root),openPopouts:n(t.openPopouts),dimensions:f.Dimensions.fromResolved(t.dimensions),settings:l.ResolvedLayoutConfig.Settings.createCopy(t.settings),header:l.ResolvedLayoutConfig.Header.createCopy(t.header),parentId:t.parentId,indexInParent:t.indexInParent,window:e.Window.fromResolved(t.window)}},e.fromResolvedArray=n}(g=t.PopoutLayoutConfig||(t.PopoutLayoutConfig={})),t.parseSize=_,t.formatSize=v,t.formatUndefinableSize=C},881:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualLayout=void 0;const i=n(876),o=n(745),s=n(677),r=n(743),a=n(265),l=n(328);class d extends a.LayoutManager{constructor(e,t,n,o){if(super(d.createLayoutManagerConstructorParameters(e,t)),this._bindComponentEventHanlderPassedInConstructor=!1,this._creationTimeoutPassed=!1,void 0!==t&&"function"==typeof t&&(this.bindComponentEvent=t,this._bindComponentEventHanlderPassedInConstructor=!0,void 0!==n&&(this.unbindComponentEvent=n)),!this._bindComponentEventHanlderPassedInConstructor&&this.isSubWindow){if(void 0===this._constructorOrSubWindowLayoutConfig)throw new r.UnexpectedUndefinedError("VLC98823");{const e=i.LayoutConfig.resolve(this._constructorOrSubWindowLayoutConfig);this.layoutConfig=Object.assign(Object.assign({},e),{root:void 0})}}!0!==o&&(this.deprecatedConstructor||this.init())}destroy(){this.bindComponentEvent=void 0,this.unbindComponentEvent=void 0,super.destroy()}init(){if(this._bindComponentEventHanlderPassedInConstructor||"loading"!==document.readyState&&null!==document.body){if(!this._bindComponentEventHanlderPassedInConstructor&&!0===this.isSubWindow&&!this._creationTimeoutPassed)return setTimeout((()=>this.init()),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&(this._bindComponentEventHanlderPassedInConstructor||this.clearHtmlAndAdjustStylesForSubWindow(),window.__glInstance=this),super.init()}else document.addEventListener("DOMContentLoaded",(()=>this.init()),{passive:!0})}clearHtmlAndAdjustStylesForSubWindow(){const e=document.head,t=new Array(4);t[0]=document.querySelectorAll("body link"),t[1]=document.querySelectorAll("body style"),t[2]=document.querySelectorAll("template"),t[3]=document.querySelectorAll(".gl_keep");for(let n=0;n<t.length;n++){const i=t[n];for(let t=0;t<i.length;t++){const n=i[t];e.appendChild(n)}}const n=document.body;n.innerHTML="",n.style.visibility="visible",this.checkAddDefaultPopinButton(),document.body.offsetHeight}checkAddDefaultPopinButton(){if(this.layoutConfig.settings.popInOnClose)return!1;{const e=document.createElement("div");e.classList.add("lm_popin"),e.setAttribute("title",this.layoutConfig.header.dock);const t=document.createElement("div");t.classList.add("lm_icon");const n=document.createElement("div");return n.classList.add("lm_bg"),e.appendChild(t),e.appendChild(n),e.addEventListener("click",(()=>this.emit("popIn"))),document.body.appendChild(e),!0}}bindComponent(e,t){if(void 0!==this.bindComponentEvent)return this.bindComponentEvent(e,t);if(void 0!==this.getComponentEvent)return{virtual:!1,component:this.getComponentEvent(e,t)};{const e=`${l.i18nStrings[2]}: ${JSON.stringify(t)}`;throw new s.BindError(e)}}unbindComponent(e,t,n){if(void 0!==this.unbindComponentEvent)this.unbindComponentEvent(e);else if(!t&&void 0!==this.releaseComponentEvent){if(void 0===n)throw new r.UnexpectedUndefinedError("VCUCRCU333998");this.releaseComponentEvent(e,n)}}}t.VirtualLayout=d,function(e){let t=!1;e.createLayoutManagerConstructorParameters=function(e,n){const s=t?null:new URL(document.location.href).searchParams.get("gl-window");t=!0;const r=null!==s;let a,l;if(null!==s){const t=localStorage.getItem(s);if(null===t)throw new Error("Null gl-window Config");localStorage.removeItem(s);const n=JSON.parse(t),r=o.ResolvedLayoutConfig.unminifyConfig(n);l=i.LayoutConfig.fromResolved(r),e instanceof HTMLElement&&(a=e)}else void 0===e?l=void 0:e instanceof HTMLElement?(l=void 0,a=e):l=e,void 0===a&&n instanceof HTMLElement&&(a=n);return{constructorOrSubWindowLayoutConfig:l,isSubWindow:r,containerElement:a}}}(d=t.VirtualLayout||(t.VirtualLayout={}))},902:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DragListener=void 0;const i=n(744);class o extends i.EventEmitter{constructor(e,t){super(),this._eElement=e,this._pointerTracking=!1,this._pointerDownEventListener=e=>this.onPointerDown(e),this._pointerMoveEventListener=e=>this.onPointerMove(e),this._pointerUpEventListener=e=>this.onPointerUp(e),this._timeout=void 0,this._allowableTargets=[e,...t],this._oDocument=document,this._eBody=document.body,this._nDelay=1800,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._dragging=!1,this._eElement.addEventListener("pointerdown",this._pointerDownEventListener,{passive:!0})}destroy(){this.checkRemovePointerTrackingEventListeners(),this._eElement.removeEventListener("pointerdown",this._pointerDownEventListener)}cancelDrag(){this.processDragStop(void 0)}onPointerDown(e){if(this._allowableTargets.includes(e.target)&&e.isPrimary){const t=this.getPointerCoordinates(e);this.processPointerDown(t)}}processPointerDown(e){this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.addEventListener("pointermove",this._pointerMoveEventListener),this._oDocument.addEventListener("pointerup",this._pointerUpEventListener,{passive:!0}),this._pointerTracking=!0,this._timeout=setTimeout((()=>{try{this.startDrag()}catch(e){throw console.error(e),e}}),this._nDelay)}onPointerMove(e){this._pointerTracking&&(this.processDragMove(e),e.preventDefault())}processDragMove(e){this._nX=e.pageX-this._nOriginalX,this._nY=e.pageY-this._nOriginalY,!1===this._dragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&this.startDrag(),this._dragging&&this.emit("drag",this._nX,this._nY,e)}onPointerUp(e){this.processDragStop(e)}processDragStop(e){var t;void 0!==this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0),this.checkRemovePointerTrackingEventListeners(),!0===this._dragging&&(this._eBody.classList.remove("lm_dragging"),this._eElement.classList.remove("lm_dragging"),null===(t=this._oDocument.querySelector("iframe"))||void 0===t||t.style.setProperty("pointer-events",""),this._dragging=!1,this.emit("dragStop",e))}checkRemovePointerTrackingEventListeners(){this._pointerTracking&&(this._oDocument.removeEventListener("pointermove",this._pointerMoveEventListener),this._oDocument.removeEventListener("pointerup",this._pointerUpEventListener),this._pointerTracking=!1)}startDrag(){var e;void 0!==this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0),this._dragging=!0,this._eBody.classList.add("lm_dragging"),this._eElement.classList.add("lm_dragging"),null===(e=this._oDocument.querySelector("iframe"))||void 0===e||e.style.setProperty("pointer-events","none"),this.emit("dragStart",this._nOriginalX,this._nOriginalY)}getPointerCoordinates(e){return{x:e.pageX,y:e.pageY}}}t.DragListener=o}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i=n(291);return i.GoldenLayout})()));